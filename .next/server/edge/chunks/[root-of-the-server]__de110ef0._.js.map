{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.ts"],"sourcesContent":["import { clerkMiddleware, createRouteMatcher } from \"@clerk/nextjs/server\";\nimport { NextResponse } from \"next/server\";\n\nconst isPublicRoute = createRouteMatcher([\"/welcome\"]);\nconst isWebhookRoute = createRouteMatcher([\"/api/webhooks\"]);\n\nexport default clerkMiddleware(async (auth, req) => {\n  const { userId } = await auth();\n  const { pathname } = req.nextUrl;\n\n  // Skip authentication checks for webhook routes\n  if (isWebhookRoute(req)) {\n    return NextResponse.next();\n  }\n\n  // Allow all non-webhook API routes to pass through so route handlers\n  // can return JSON (avoids redirects causing Failed to fetch on client)\n  if (pathname.startsWith(\"/api\")) {\n    return NextResponse.next();\n  }\n\n  // If user is not authenticated and trying to access protected routes\n  if (!userId && !isPublicRoute(req)) {\n    const welcomeUrl = new URL(\"/welcome\", req.url);\n    return NextResponse.redirect(welcomeUrl);\n  }\n\n  // If user is authenticated and trying to access /welcome, redirect to home\n  if (userId && pathname === \"/welcome\") {\n    const homeUrl = new URL(\"/\", req.url);\n    return NextResponse.redirect(homeUrl);\n  }\n\n  return NextResponse.next();\n});\n\nexport const config = {\n  matcher: [\n    // Skip Next.js internals and all static files, unless found in search params\n    \"/((?!_next|[^?]*\\\\.(?:html?|css|js(?!on)|jpe?g|webp|png|gif|svg|ttf|woff2?|ico|csv|docx?|xlsx?|zip|webmanifest)).*)\",\n    // Always run for API routes\n    \"/(api|trpc)(.*)\",\n  ],\n};\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;AAAA;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,qYAAA,CAAA,qBAAkB,AAAD,EAAE;IAAC;CAAW;AACrD,MAAM,iBAAiB,CAAA,GAAA,qYAAA,CAAA,qBAAkB,AAAD,EAAE;IAAC;CAAgB;uCAE5C,CAAA,GAAA,wYAAA,CAAA,kBAAe,AAAD,EAAE,OAAO,MAAM;IAC1C,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM;IACzB,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,OAAO;IAEhC,gDAAgD;IAChD,IAAI,eAAe,MAAM;QACvB,OAAO,4TAAA,CAAA,eAAY,CAAC,IAAI;IAC1B;IAEA,qEAAqE;IACrE,uEAAuE;IACvE,IAAI,SAAS,UAAU,CAAC,SAAS;QAC/B,OAAO,4TAAA,CAAA,eAAY,CAAC,IAAI;IAC1B;IAEA,qEAAqE;IACrE,IAAI,CAAC,UAAU,CAAC,cAAc,MAAM;QAClC,MAAM,aAAa,IAAI,IAAI,YAAY,IAAI,GAAG;QAC9C,OAAO,4TAAA,CAAA,eAAY,CAAC,QAAQ,CAAC;IAC/B;IAEA,2EAA2E;IAC3E,IAAI,UAAU,aAAa,YAAY;QACrC,MAAM,UAAU,IAAI,IAAI,KAAK,IAAI,GAAG;QACpC,OAAO,4TAAA,CAAA,eAAY,CAAC,QAAQ,CAAC;IAC/B;IAEA,OAAO,4TAAA,CAAA,eAAY,CAAC,IAAI;AAC1B;AAEO,MAAM,SAAS;IACpB,SAAS;QACP,6EAA6E;QAC7E;QACA,4BAA4B;QAC5B;KACD;AACH"}}]
}