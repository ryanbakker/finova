(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8013],{10213:(e,t,a)=>{"use strict";a.d(t,{SQ:()=>c,_2:()=>d,hO:()=>u,rI:()=>n,ty:()=>i});var s=a(90013);a(54281);var l=a(88064),r=a(52372),o=a(59367);function n(e){let{...t}=e;return(0,s.jsx)(l.bL,{"data-slot":"dropdown-menu",...t})}function i(e){let{...t}=e;return(0,s.jsx)(l.l9,{"data-slot":"dropdown-menu-trigger",...t})}function c(e){let{className:t,sideOffset:a=4,...r}=e;return(0,s.jsx)(l.ZL,{children:(0,s.jsx)(l.UC,{"data-slot":"dropdown-menu-content",sideOffset:a,className:(0,o.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...r})})}function d(e){let{className:t,inset:a,variant:r="default",...n}=e;return(0,s.jsx)(l.q7,{"data-slot":"dropdown-menu-item","data-inset":a,"data-variant":r,className:(0,o.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}function u(e){let{className:t,children:a,checked:n,...i}=e;return(0,s.jsxs)(l.H_,{"data-slot":"dropdown-menu-checkbox-item",className:(0,o.cn)("focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),checked:n,...i,children:[(0,s.jsx)("span",{className:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center",children:(0,s.jsx)(l.VF,{children:(0,s.jsx)(r.A,{className:"size-4"})})}),a]})}},33128:(e,t,a)=>{"use strict";a.d(t,{m:()=>r});var s=a(90013),l=a(44832);function r(){return(0,s.jsx)("footer",{className:"border-t bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,s.jsxs)("div",{className:"mx-auto flex flex-col items-center justify-between gap-4 py-6 md:h-10 !pt-5 md:flex-row md:py-0 max-w-7xl",children:[(0,s.jsx)("div",{className:"flex flex-col items-center gap-4 px-8 md:flex-row md:gap-2 md:px-0",children:(0,s.jsx)("p",{className:"text-center text-sm leading-loose text-muted-foreground md:text-left",children:"\xa9 2025 Finova. All rights reserved."})}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,s.jsx)("span",{children:"Made with"}),(0,s.jsx)(l.A,{className:"h-4 w-4 text-red-500",fill:"red"})]})]})})}},38768:(e,t,a)=>{Promise.resolve().then(a.bind(a,52141))},52141:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>q});var s=a(90013),l=a(54281),r=a(33128),o=a(91784),n=a(61488),i=a(93508),c=a(661),d=a(56804),u=a(30363),m=a(10213),x=a(63257),g=a(83409),h=a(83320),p=a(7532),f=a(92685),b=a(85481),v=a(52260),j=a(49970),w=a(50661),N=a(5226),y=a(44832),S=a(28739),k=a(19901),C=a(58810),A=a(79522),P=a(55050),D=a(57391),E=a(82825),R=a(87725),_=a(78757);let M=null,F=e=>{let{columnId:t,sortState:a,onToggleSort:l,children:r,className:n=""}=e;return(0,s.jsxs)(o.$,{variant:"ghost",onClick:e=>{e.stopPropagation(),l(t)},className:"h-auto p-0 py-2 font-semibold hover:bg-slate-100 dark:hover:bg-slate-800 cursor-pointer ".concat(a?"table-header-sorted":""," ").concat(n),children:[r,"asc"===a?(0,s.jsx)(g.A,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}):"desc"===a?(0,s.jsx)(h.A,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}):(0,s.jsx)(p.A,{className:"h-4 w-4 text-slate-400"})]})},G=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"AUD";return new Intl.NumberFormat("en-AU",{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)},I=[{id:"select",header:e=>{let{table:t}=e;return(0,s.jsx)(u.S,{checked:t.getIsAllPageRowsSelected()||t.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:e=>t.toggleAllPageRowsSelected(!!e),"aria-label":"Select all"})},cell:e=>{let{row:t}=e;return(0,s.jsx)(u.S,{checked:t.getIsSelected(),onCheckedChange:e=>t.toggleSelected(!!e),onClick:e=>e.stopPropagation(),"aria-label":"Select row"})},enableSorting:!1,enableHiding:!1},{accessorKey:"name",header:()=>(0,s.jsx)(F,{columnId:"name",sortState:!1,onToggleSort:()=>{},className:"text-left",children:"Goal Name"}),cell:e=>{var t;let{row:a}=e,l=a.original;return(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(t=l.category,({"Emergency Fund":(0,s.jsx)(f.A,{className:"h-4 w-4 text-blue-600"}),Retirement:(0,s.jsx)(b.A,{className:"h-4 w-4 text-green-600"}),"Home Purchase":(0,s.jsx)(v.A,{className:"h-4 w-4 text-purple-600"}),"Vehicle Purchase":(0,s.jsx)(j.A,{className:"h-4 w-4 text-orange-600"}),Education:(0,s.jsx)(w.A,{className:"h-4 w-4 text-indigo-600"}),Travel:(0,s.jsx)(N.A,{className:"h-4 w-4 text-cyan-600"}),Wedding:(0,s.jsx)(y.A,{className:"h-4 w-4 text-pink-600"}),"Business Startup":(0,s.jsx)(S.A,{className:"h-4 w-4 text-gray-600"}),"Investment Portfolio":(0,s.jsx)(k.A,{className:"h-4 w-4 text-emerald-600"}),"Debt Payoff":(0,s.jsx)(C.A,{className:"h-4 w-4 text-red-600"})})[t]||(0,s.jsx)(A.A,{className:"h-4 w-4 text-gray-600"})),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:l.name}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:l.category})]})]})}},{accessorKey:"progress",header:()=>(0,s.jsx)(F,{columnId:"progress",sortState:!1,onToggleSort:()=>{},className:"text-left",children:"Progress"}),cell:e=>{let{row:t}=e,a=t.original,l=((e,t)=>0===t?0:Math.min(Math.round(e/t*100),100))(a.currentAmount,a.targetAmount),r=(e=>e>=80?"text-green-600":e>=60?"text-blue-600":e>=40?"text-yellow-600":e>=20?"text-orange-600":"text-red-600")(l);return(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:G(a.currentAmount,a.currency)}),(0,s.jsx)("span",{className:r,children:G(a.targetAmount,a.currency)})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,s.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat("text-green-600"===r?"bg-green-600":"text-blue-600"===r?"bg-blue-600":"text-yellow-600"===r?"bg-yellow-600":"text-orange-600"===r?"bg-orange-600":"bg-red-600"),style:{width:"".concat(l,"%")}})}),(0,s.jsxs)("div",{className:"text-xs text-center text-muted-foreground",children:[l,"% Complete"]})]})}},{accessorKey:"targetDate",header:()=>(0,s.jsx)(F,{columnId:"targetDate",sortState:!1,onToggleSort:()=>{},className:"text-left",children:"Target Date"}),cell:e=>{let{row:t}=e,a=t.original,l=Math.ceil((new Date(a.targetDate).getTime()-new Date().getTime())/864e5);return(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(P.A,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:(e=>{let t=new Date(e),a=t.getDate().toString().padStart(2,"0"),s=(t.getMonth()+1).toString().padStart(2,"0"),l=t.getFullYear().toString().slice(-2);return"".concat(a,"/").concat(s,"/").concat(l)})(a.targetDate)}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:l>0?"".concat(l," days left"):"".concat(Math.abs(l)," days overdue")})]})]})}},{accessorKey:"priority",header:()=>(0,s.jsx)(F,{columnId:"priority",sortState:!1,onToggleSort:()=>{},className:"text-left",children:"Priority"}),cell:e=>{let{row:t}=e;return(e=>{let t={low:{label:"Low",bgColor:"bg-emerald-50 text-emerald-700 border-emerald-200"},medium:{label:"Medium",bgColor:"bg-amber-50 text-amber-700 border-amber-200"},high:{label:"High",bgColor:"bg-rose-50 text-rose-700 border-rose-200"}},{label:a,bgColor:l}=t[e]||t.medium;return(0,s.jsx)(x.E,{variant:"outline",className:"".concat(l," border-opacity-60 bg-opacity-80"),children:a})})(t.original.priority)}},{accessorKey:"status",header:()=>(0,s.jsx)(F,{columnId:"status",sortState:!1,onToggleSort:()=>{},className:"text-left",children:"Status"}),cell:e=>{let{row:t}=e;return(e=>{let t={active:{label:"Active",bgColor:"bg-emerald-50 text-emerald-700 border-emerald-200"},completed:{label:"Completed",bgColor:"bg-sky-50 text-sky-700 border-sky-200"},paused:{label:"Paused",bgColor:"bg-rose-50 text-rose-700 border-rose-200"}},{label:a,bgColor:l}=t[e]||t.active;return(0,s.jsx)(x.E,{variant:"outline",className:"".concat(l," border-opacity-60 bg-opacity-80"),children:a})})(t.original.status)}},{id:"actions",enableHiding:!1,cell:e=>{let{row:t}=e,a=t.original;return(0,s.jsxs)(m.rI,{children:[(0,s.jsx)(m.ty,{asChild:!0,children:(0,s.jsxs)(o.$,{variant:"ghost",className:"h-8 w-8 p-0",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,s.jsx)(D.A,{className:"h-4 w-4"})]})}),(0,s.jsxs)(m.SQ,{align:"end",children:[(0,s.jsxs)(m._2,{onClick:e=>{e.stopPropagation(),null==M||M.onView(a)},className:"cursor-pointer",children:[(0,s.jsx)(E.A,{className:"mr-2 h-4 w-4"}),"View Details"]}),(0,s.jsxs)(m._2,{onClick:e=>{e.stopPropagation(),null==M||M.onEdit(a)},className:"cursor-pointer",children:[(0,s.jsx)(R.A,{className:"mr-2 h-4 w-4"}),"Edit Goal"]}),(0,s.jsxs)(m._2,{onClick:e=>{e.stopPropagation(),null==M||M.onDelete(a)},className:"cursor-pointer text-red-600",children:[(0,s.jsx)(_.A,{className:"mr-2 h-4 w-4"}),"Delete Goal"]})]})]})}}];var z=a(10983),H=a(63715),T=a(49165),O=a(38965),L=a(48904),K=a(52450),V=a(55974),U=a(50561);function $(e){var t;let{columns:a,data:r,isLoading:n=!1,onTableReady:u,onDelete:m,onEdit:x}=e,[g,h]=(0,l.useState)({}),[p,f]=(0,l.useState)({}),[b,v]=(0,l.useState)([]),[j,w]=(0,l.useState)(null),[N,y]=(0,l.useState)(!1),[S,k]=(0,l.useState)(!1),[C,A]=(0,l.useState)(!1),P=(0,z.useSearchParams)(),D=(0,H.a)(),E=P.get("name")||"",R=P.get("category")||"all",_=P.get("priority")||"all",F=P.get("status")||"all",G=P.get("minAmount"),I=P.get("maxAmount");(0,l.useEffect)(()=>{D?h({select:!0,name:!0,progress:!0,targetDate:!1,priority:!1,status:!1,actions:!0}):h({select:!0,name:!0,progress:!0,targetDate:!0,priority:!0,status:!0,actions:!0})},[D]);let U=(0,l.useCallback)(()=>{y(!1),w(null)},[]),$=(0,l.useCallback)(()=>{k(!1),w(null)},[]),B=(0,l.useCallback)(()=>{A(!1),w(null)},[]),Q=(0,l.useCallback)(e=>{w(e),y(!0)},[]),W=(0,l.useCallback)(e=>{x?x(e):(w(e),k(!0))},[x]),X=(0,l.useCallback)(e=>{w(e),A(!0)},[]),Y=(0,l.useCallback)(e=>{console.log("Saving goal:",e),$()},[$]),q=(0,l.useCallback)(()=>{if(j&&m){let e=j._id||j.id;e&&(m(e),B())}},[j,m,B]);(0,l.useEffect)(()=>{M={onView:Q,onEdit:W,onDelete:X}},[W,Q,X]);let J=(0,l.useMemo)(()=>{let e=r;return E&&(e=e.filter(e=>e.name.toLowerCase().includes(E.toLowerCase()))),"all"!==R&&(e=e.filter(e=>e.category===R)),"all"!==_&&(e=e.filter(e=>e.priority===_)),"all"!==F&&(e=e.filter(e=>e.status===F)),G&&(e=e.filter(e=>e.targetAmount>=parseFloat(G))),I&&(e=e.filter(e=>e.targetAmount<=parseFloat(I))),e},[r,E,R,_,F,G,I]),Z=(0,c.N4)({data:J,columns:a,getCoreRowModel:(0,d.HT)(),getPaginationRowModel:(0,d.kW)(),getFilteredRowModel:(0,d.hM)(),onColumnVisibilityChange:h,onRowSelectionChange:f,onColumnFiltersChange:v,state:{columnVisibility:g,rowSelection:p,columnFilters:b}});return((0,l.useEffect)(()=>{u&&u(Z)},[Z,u]),n)?(0,s.jsx)(V.GoalTableSkeleton,{}):(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(K.GoalFilters,{}),(0,s.jsx)("div",{className:"rounded-md border",children:(0,s.jsxs)(i.XI,{children:[(0,s.jsx)(i.A0,{children:Z.getHeaderGroups().map(e=>(0,s.jsx)(i.Hj,{children:e.headers.map(e=>(0,s.jsx)(i.nd,{children:e.isPlaceholder?null:(0,c.Kv)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,s.jsx)(i.BF,{children:(null==(t=Z.getRowModel().rows)?void 0:t.length)?Z.getRowModel().rows.map(e=>(0,s.jsx)(i.Hj,{"data-state":e.getIsSelected()&&"selected",className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>Q(e.original),children:e.getVisibleCells().map(e=>(0,s.jsx)(i.nA,{children:(0,c.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,s.jsx)(i.Hj,{children:(0,s.jsx)(i.nA,{colSpan:a.length,className:"h-24 text-center",children:"No goals found."})})})]})}),(0,s.jsxs)("div",{className:"flex items-center justify-between space-x-2 py-4",children:[(0,s.jsxs)("div",{className:"flex-1 text-sm text-muted-foreground",children:[Z.getFilteredSelectedRowModel().rows.length," of"," ",Z.getFilteredRowModel().rows.length," row(s) selected."]}),(0,s.jsxs)("div",{className:"space-x-2",children:[(0,s.jsx)(o.$,{variant:"outline",size:"sm",onClick:()=>Z.previousPage(),disabled:!Z.getCanPreviousPage(),children:"Previous"}),(0,s.jsx)(o.$,{variant:"outline",size:"sm",onClick:()=>Z.nextPage(),disabled:!Z.getCanNextPage(),children:"Next"})]})]}),(0,s.jsx)(T.GoalDetailsDialog,{goal:j,isOpen:N,onClose:U}),(0,s.jsx)(O.EditGoalDialog,{goal:j,isOpen:S,onClose:$,onSave:Y}),(0,s.jsx)(L.DeleteGoalDialog,{goal:j,isOpen:C,onClose:B,onConfirm:q})]})}a(14638),a(93259);var B=a(79058),Q=a(7413);let W=(0,Q.createServerReference)("4094dbc88d2903264bf18f51640d0416d313f76ad3",Q.callServer,void 0,Q.findSourceMapURL,"getGoalsByUserId"),X=(0,Q.createServerReference)("60f5431829ea28db7ba9a2ea6772a8e1c833838ea8",Q.callServer,void 0,Q.findSourceMapURL,"deleteGoal");var Y=a(42831);let q=function(){let{user:e,isLoaded:t}=(0,B.Jd)(),[a,i]=(0,l.useState)([]),[c,d]=(0,l.useState)(!0),[u,m]=(0,l.useState)(!1),[x,g]=(0,l.useState)(null);if((0,l.useEffect)(()=>{(async()=>{if(!t||!(null==e?void 0:e.id))return d(!1);try{d(!0);let t=await W(e.id);i(t||[])}catch(e){console.error("Error loading goals:",e),(0,Y.oR)({title:"Error",description:"Failed to load goals. Please try again.",variant:"destructive"})}finally{d(!1)}})()},[t,null==e?void 0:e.id]),!t||c)return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(U.GoalPageSkeleton,{}),(0,s.jsx)(r.m,{})]});if(!e)return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("h1",{className:"text-2xl font-bold text-muted-foreground",children:"Please sign in to view your goals"})}),(0,s.jsx)(r.m,{})]});let h=async()=>{try{if(null==e?void 0:e.id){let t=await W(e.id);i(t||[])}m(!1),g(null)}catch(e){console.error("Error refreshing goals:",e),(0,Y.oR)({title:"Error",description:"Goal saved but failed to refresh the list. Please refresh the page.",variant:"destructive"})}},p=async t=>{if(!(null==e?void 0:e.id))return void(0,Y.oR)({title:"Authentication Error",description:"Please sign in to delete goals.",variant:"destructive"});try{await X(t,e.id);let a=await W(e.id);i(a||[]),(0,Y.oR)({title:"Goal Deleted",description:"Your goal has been deleted successfully."})}catch(e){console.error("Error deleting goal:",e),(0,Y.oR)({title:"Error",description:"Failed to delete goal. Please try again.",variant:"destructive"})}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-end justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Financial Goals"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Set, track, and achieve your financial goals with progress monitoring and milestone tracking."})]}),(0,s.jsxs)(o.$,{className:"button-blue-bg hover:cursor-pointer",onClick:()=>{g(null),m(!0)},children:[(0,s.jsx)(n.A,{className:"mr-1 h-4 w-4"}),"Create Goal"]})]}),(0,s.jsx)($,{columns:I,data:a,isLoading:c,onDelete:p,onEdit:e=>{g(e),m(!0)}}),(0,s.jsx)(O.EditGoalDialog,{goal:x,isOpen:u,onClose:()=>{m(!1),g(null)},onSave:h}),(0,s.jsx)(r.m,{})]})}},61488:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71861).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},93508:(e,t,a)=>{"use strict";a.d(t,{A0:()=>o,BF:()=>n,Hj:()=>i,XI:()=>r,nA:()=>d,nd:()=>c});var s=a(90013);a(54281);var l=a(59367);function r(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,s.jsx)("table",{"data-slot":"table",className:(0,l.cn)("w-full caption-bottom text-sm",t),...a})})}function o(e){let{className:t,...a}=e;return(0,s.jsx)("thead",{"data-slot":"table-header",className:(0,l.cn)("[&_tr]:border-b",t),...a})}function n(e){let{className:t,...a}=e;return(0,s.jsx)("tbody",{"data-slot":"table-body",className:(0,l.cn)("[&_tr:last-child]:border-0",t),...a})}function i(e){let{className:t,...a}=e;return(0,s.jsx)("tr",{"data-slot":"table-row",className:(0,l.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...a})}function c(e){let{className:t,...a}=e;return(0,s.jsx)("th",{"data-slot":"table-head",className:(0,l.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}function d(e){let{className:t,...a}=e;return(0,s.jsx)("td",{"data-slot":"table-cell",className:(0,l.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}}},e=>{e.O(0,[6251,6960,4463,7038,8301,372,9256,1278,1580,882,2039,1,6540,7358],()=>e(e.s=38768)),_N_E=e.O()}]);