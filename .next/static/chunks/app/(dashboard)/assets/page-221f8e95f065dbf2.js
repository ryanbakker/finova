(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2030],{10983:(e,s,a)=>{"use strict";var t=a(36495);a.o(t,"useParams")&&a.d(s,{useParams:function(){return t.useParams}}),a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(s,{useSearchParams:function(){return t.useSearchParams}}),a.o(t,"useSelectedLayoutSegments")&&a.d(s,{useSelectedLayoutSegments:function(){return t.useSelectedLayoutSegments}})},30363:(e,s,a)=>{"use strict";a.d(s,{S:()=>c});var t=a(90013);a(54281);var l=a(2976),r=a(52372),n=a(59367);function c(e){let{className:s,...a}=e;return(0,t.jsx)(l.bL,{"data-slot":"checkbox",className:(0,n.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...a,children:(0,t.jsx)(l.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,t.jsx)(r.A,{className:"size-3.5"})})})}},41731:(e,s,a)=>{"use strict";a.d(s,{b:()=>d});var t=a(54281),l=a(91986),r=a(90013),n="horizontal",c=["horizontal","vertical"],i=t.forwardRef((e,s)=>{var a;let{decorative:t,orientation:i=n,...d}=e,o=(a=i,c.includes(a))?i:n;return(0,r.jsx)(l.sG.div,{"data-orientation":o,...t?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"},...d,ref:s})});i.displayName="Separator";var d=i},45679:(e,s,a)=>{Promise.resolve().then(a.bind(a,94543))},51157:(e,s,a)=>{"use strict";a.d(s,{CG:()=>i,Fm:()=>m,Qs:()=>h,cj:()=>c,h:()=>u,qp:()=>x});var t=a(90013);a(54281);var l=a(91041),r=a(70088),n=a(59367);function c(e){let{...s}=e;return(0,t.jsx)(l.bL,{"data-slot":"sheet",...s})}function i(e){let{...s}=e;return(0,t.jsx)(l.l9,{"data-slot":"sheet-trigger",...s})}function d(e){let{...s}=e;return(0,t.jsx)(l.ZL,{"data-slot":"sheet-portal",...s})}function o(e){let{className:s,...a}=e;return(0,t.jsx)(l.hJ,{"data-slot":"sheet-overlay",className:(0,n.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...a})}function u(e){let{className:s,children:a,side:c="right",...i}=e;return(0,t.jsxs)(d,{children:[(0,t.jsx)(o,{}),(0,t.jsxs)(l.UC,{"data-slot":"sheet-content",className:(0,n.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===c&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===c&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===c&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===c&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",s),...i,children:[a,(0,t.jsxs)(l.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,t.jsx)(r.A,{className:"size-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function m(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"sheet-header",className:(0,n.cn)("flex flex-col gap-1.5 p-4",s),...a})}function x(e){let{className:s,...a}=e;return(0,t.jsx)(l.hE,{"data-slot":"sheet-title",className:(0,n.cn)("text-foreground font-semibold",s),...a})}function h(e){let{className:s,...a}=e;return(0,t.jsx)(l.VY,{"data-slot":"sheet-description",className:(0,n.cn)("text-muted-foreground text-sm",s),...a})}},59930:(e,s,a)=>{"use strict";a.d(s,{T:()=>n});var t=a(90013),l=a(54281),r=a(59367);let n=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...l})});n.displayName="Textarea"},73436:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(71861).A)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]])},84298:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(71861).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},89469:(e,s,a)=>{"use strict";a.d(s,{w:()=>n});var t=a(90013);a(54281);var l=a(41731),r=a(59367);function n(e){let{className:s,orientation:a="horizontal",decorative:n=!0,...c}=e;return(0,t.jsx)(l.b,{"data-slot":"separator",decorative:n,orientation:a,className:(0,r.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",s),...c})}},94543:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>ey});var t=a(90013),l=a(33128),r=a(91784),n=a(61488),c=a(98832),i=a(13985),d=a(67644),o=a(22914),u=a(93508),m=a(661),x=a(56804),h=a(78757),g=a(54281),j=a(30363),v=a(10213),p=a(83409),N=a(83320),f=a(7532),b=a(19901),y=a(73436),w=a(55050),A=a(57391),C=a(82825),k=a(87725),S=a(30509);let V=null,F=e=>{let{columnId:s,sortState:a,onToggleSort:l,children:n,className:c=""}=e;return(0,t.jsxs)(r.$,{variant:"ghost",onClick:()=>l(s),className:"h-auto p-0 py-2 font-semibold hover:bg-slate-100 dark:hover:bg-slate-800 cursor-pointer ".concat(a?"table-header-sorted":""," ").concat(c),children:[n,"asc"===a?(0,t.jsx)(p.A,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}):"desc"===a?(0,t.jsx)(N.A,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}):(0,t.jsx)(f.A,{className:"h-4 w-4 text-slate-400"})]})},P=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"AUD";return new Intl.NumberFormat("en-AU",{style:"currency",currency:s,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)};var D=a(10983),E=a(63715),R=a(95464),M=a(63257),J=a(89469),$=a(28739),U=a(58810),I=a(2299);let T=e=>new Date(e).toLocaleDateString("en-AU",{year:"numeric",month:"long",day:"numeric"});function L(e){let{asset:s,isOpen:a,onClose:l}=e;if(!s)return null;let n=(e=>{if(!e.changeAmount||!e.changePercentage)return{text:"No change data",icon:null,className:"text-muted-foreground"};let s=e.changeAmount>=0;return{text:"".concat(s?"+":"").concat((0,I.vv)(e.changeAmount,e.currency)," (").concat(s?"+":"").concat(e.changePercentage,"%)"),icon:s?(0,t.jsx)(b.A,{className:"h-4 w-4 text-green-600"}):(0,t.jsx)(y.A,{className:"h-4 w-4 text-red-600"}),className:s?"text-green-600":"text-red-600"}})(s),c=(0,S.UF)(s.category);return(0,t.jsx)(R.lG,{open:a,onOpenChange:l,children:(0,t.jsxs)(R.Cf,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)(R.c7,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[c&&(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/20 flex items-center justify-center",children:(0,t.jsx)(c,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(R.L3,{className:"text-xl",children:s.name}),(0,t.jsx)(R.rr,{className:"text-base",children:s.category})]})]})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Current Value"}),(0,t.jsx)("div",{className:"text-2xl font-bold",children:(0,I.vv)(s.currentValue||s.value,s.currency)}),void 0!==s.changeAmount&&(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm ".concat(n.className),children:[n.icon,(0,t.jsx)("span",{children:n.text})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Original Value"}),(0,t.jsx)("div",{className:"text-xl font-semibold",children:(0,I.vv)(s.value,s.currency)}),s.purchaseDate&&(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Purchased ",T(s.purchaseDate)]})]})]}),(0,t.jsx)(J.w,{}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Asset Details"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.institution&&(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)($.A,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Institution"})]}),(0,t.jsx)("p",{className:"text-sm",children:s.institution})]}),s.accountNumber&&(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(U.A,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Account Number"})]}),(0,t.jsx)("p",{className:"text-sm font-mono",children:s.accountNumber})]}),s.purchaseDate&&(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(w.A,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Purchase Date"})]}),(0,t.jsx)("p",{className:"text-sm",children:T(s.purchaseDate)})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Status"}),(0,t.jsx)("div",{children:(0,t.jsx)(M.E,{variant:s.isActive?"default":"secondary",className:s.isActive?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400",children:s.isActive?"Active":"Inactive"})})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Currency"}),(0,t.jsx)("p",{className:"text-sm",children:s.currency})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Added"}),(0,t.jsx)("p",{className:"text-sm",children:T(s.createdAt)})]})]})]}),s.notes&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(J.w,{}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Notes"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground leading-relaxed",children:s.notes})]})]}),void 0!==s.changeAmount&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(J.w,{}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Performance Summary"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-900/40 rounded-lg",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[s.changeAmount>=0?"+":"",(0,I.vv)(s.changeAmount,s.currency)]}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Change"})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-900/40 rounded-lg",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold ".concat(s.changePercentage&&s.changePercentage>=0?"text-green-600":"text-red-600"),children:[s.changePercentage&&s.changePercentage>=0?"+":"",s.changePercentage,"%"]}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Percentage Change"})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-900/40 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:(0,I.vv)(s.currentValue||s.value,s.currency)}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Current Value"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[(0,t.jsx)(r.$,{variant:"outline",onClick:l,children:"Close"}),(0,t.jsxs)(r.$,{className:"button-blue-bg",children:[(0,t.jsx)(k.A,{className:"h-4 w-4 mr-2"}),"Edit Asset"]})]})]})})}var z=a(58180),B=a(35170),O=a(59930),Z=a(16176),q=a(59496),G=a(7413);let W=(0,G.createServerReference)("401802591bf6a6a693f2ed834e8c50a1a0c482f0de",G.callServer,void 0,G.findSourceMapURL,"createAsset");var H=a(42831),_=a(84298);function K(e){let{isOpen:s,onClose:a,onSuccess:l}=e,[n,c]=(0,g.useState)({name:"",category:"",value:"",currency:"USD",institution:"",accountNumber:"",purchaseDate:"",currentValue:"",changeAmount:"",changePercentage:"",notes:"",isActive:!0}),[i,d]=(0,g.useState)({}),[o,u]=(0,g.useState)(!1),{toast:m}=(0,H.dj)(),x=(0,q.oU)("assets"),h=(e,s)=>{c(a=>({...a,[e]:s})),i[e]&&d(s=>({...s,[e]:""}))},v=async e=>{if(e.preventDefault(),(()=>{let e={};return n.name.trim()||(e.name="Asset name is required"),n.category||(e.category="Category is required"),(!n.value||0>=parseFloat(n.value))&&(e.value="Value must be greater than 0"),n.currency||(e.currency="Currency is required"),n.currentValue&&0>parseFloat(n.currentValue)&&(e.currentValue="Current value cannot be negative"),n.changeAmount&&0>parseFloat(n.changeAmount)&&(e.changeAmount="Change amount cannot be negative"),n.changePercentage&&-100>parseFloat(n.changePercentage)&&(e.changePercentage="Change percentage cannot be less than -100%"),d(e),0===Object.keys(e).length})()){u(!0);try{let e={name:n.name.trim(),category:n.category,value:parseFloat(n.value),currency:n.currency,institution:n.institution.trim()||void 0,accountNumber:n.accountNumber.trim()||void 0,purchaseDate:n.purchaseDate||void 0,currentValue:n.currentValue?parseFloat(n.currentValue):void 0,changeAmount:n.changeAmount?parseFloat(n.changeAmount):0,changePercentage:n.changePercentage?parseFloat(n.changePercentage):0,notes:n.notes.trim()||void 0,isActive:n.isActive};await W(e),m({title:"Success",description:"Asset created successfully"}),c({name:"",category:"",value:"",currency:"USD",institution:"",accountNumber:"",purchaseDate:"",currentValue:"",changeAmount:"",changePercentage:"",notes:"",isActive:!0}),d({}),l(),a()}catch(e){console.error("Error creating asset:",e),m({title:"Error",description:"Failed to create asset. Please try again.",variant:"destructive"})}finally{u(!1)}}},p=()=>{o||(c({name:"",category:"",value:"",currency:"USD",institution:"",accountNumber:"",purchaseDate:"",currentValue:"",changeAmount:"",changePercentage:"",notes:"",isActive:!0}),d({}),a())};return(0,t.jsx)(R.lG,{open:s,onOpenChange:p,children:(0,t.jsxs)(R.Cf,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(R.c7,{children:[(0,t.jsx)(R.L3,{className:"text-2xl font-bold",children:"Create New Asset"}),(0,t.jsx)(R.rr,{children:"Add a new financial asset to your portfolio. Fill in the required fields below."})]}),(0,t.jsxs)("form",{onSubmit:v,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(B.J,{htmlFor:"name",children:"Asset Name *"}),(0,t.jsx)(z.p,{id:"name",value:n.name,onChange:e=>h("name",e.target.value),placeholder:"e.g., Tesla Stock, House, 401k",className:i.name?"border-red-500":""}),i.name&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:i.name})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(B.J,{htmlFor:"category",children:"Category *"}),(0,t.jsxs)(Z.l6,{value:n.category,onValueChange:e=>h("category",e),children:[(0,t.jsx)(Z.bq,{className:i.category?"border-red-500":"",children:(0,t.jsx)(Z.yv,{placeholder:"Select category"})}),(0,t.jsx)(Z.gC,{children:x.map(e=>(0,t.jsx)(Z.eb,{value:e.name,children:e.name},e.name))})]}),i.category&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:i.category})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(B.J,{htmlFor:"value",children:"Value *"}),(0,t.jsx)(z.p,{id:"value",type:"number",step:"0.01",min:"0",value:n.value,onChange:e=>h("value",e.target.value),placeholder:"0.00",className:i.value?"border-red-500":""}),i.value&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:i.value})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(B.J,{htmlFor:"currency",children:"Currency *"}),(0,t.jsxs)(Z.l6,{value:n.currency,onValueChange:e=>h("currency",e),children:[(0,t.jsx)(Z.bq,{children:(0,t.jsx)(Z.yv,{})}),(0,t.jsxs)(Z.gC,{children:[(0,t.jsx)(Z.eb,{value:"USD",children:"USD ($)"}),(0,t.jsx)(Z.eb,{value:"EUR",children:"EUR (€)"}),(0,t.jsx)(Z.eb,{value:"GBP",children:"GBP (\xa3)"}),(0,t.jsx)(Z.eb,{value:"CAD",children:"CAD (C$)"}),(0,t.jsx)(Z.eb,{value:"AUD",children:"AUD (A$)"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(B.J,{htmlFor:"currentValue",children:"Current Value"}),(0,t.jsx)(z.p,{id:"currentValue",type:"number",step:"0.01",min:"0",value:n.currentValue,onChange:e=>h("currentValue",e.target.value),placeholder:"Auto-filled",className:i.currentValue?"border-red-500":""}),i.currentValue&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:i.currentValue})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(B.J,{htmlFor:"changeAmount",children:"Change Amount"}),(0,t.jsx)(z.p,{id:"changeAmount",type:"number",step:"0.01",value:n.changeAmount,onChange:e=>h("changeAmount",e.target.value),placeholder:"0.00",className:i.changeAmount?"border-red-500":""}),i.changeAmount&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:i.changeAmount})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(B.J,{htmlFor:"changePercentage",children:"Change Percentage (%)"}),(0,t.jsx)(z.p,{id:"changePercentage",type:"number",step:"0.01",min:"-100",value:n.changePercentage,onChange:e=>h("changePercentage",e.target.value),placeholder:"0.00",className:i.changePercentage?"border-red-500":""}),i.changePercentage&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:i.changePercentage})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(B.J,{htmlFor:"institution",children:"Institution"}),(0,t.jsx)(z.p,{id:"institution",value:n.institution,onChange:e=>h("institution",e.target.value),placeholder:"e.g., Bank of America, Vanguard"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(B.J,{htmlFor:"accountNumber",children:"Account Number"}),(0,t.jsx)(z.p,{id:"accountNumber",value:n.accountNumber,onChange:e=>h("accountNumber",e.target.value),placeholder:"Last 4 digits only"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(B.J,{htmlFor:"purchaseDate",children:"Purchase Date"}),(0,t.jsx)(z.p,{id:"purchaseDate",type:"date",value:n.purchaseDate,onChange:e=>h("purchaseDate",e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(B.J,{htmlFor:"notes",children:"Notes"}),(0,t.jsx)(O.T,{id:"notes",value:n.notes,onChange:e=>h("notes",e.target.value),placeholder:"Additional details about this asset...",rows:3})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(j.S,{id:"isActive",checked:n.isActive,onCheckedChange:e=>h("isActive",e)}),(0,t.jsx)(B.J,{htmlFor:"isActive",className:"text-sm",children:"Asset is active and should be included in calculations"})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,t.jsx)(r.$,{type:"button",variant:"outline",onClick:p,disabled:o,children:"Cancel"}),(0,t.jsx)(r.$,{type:"submit",disabled:o,className:"min-w-[100px]",children:o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Asset"})]})]})]})})}let Y=(0,G.createServerReference)("40e5b82e443bde8364eb665f5b7aeb319a14ea922b",G.callServer,void 0,G.findSourceMapURL,"updateAsset");var Q=a(70088);function X(e){let{asset:s,isOpen:a,onClose:l,onSuccess:n}=e,[c,i]=(0,g.useState)({}),[d,o]=(0,g.useState)({}),[u,m]=(0,g.useState)(!1),{toast:x}=(0,H.dj)(),h=(0,q.oU)("assets");(0,g.useEffect)(()=>{s&&(i({name:s.name,category:s.category,value:s.value,currency:s.currency,institution:s.institution||"",accountNumber:s.accountNumber||"",purchaseDate:s.purchaseDate||"",currentValue:s.currentValue||s.value,changeAmount:s.changeAmount||0,changePercentage:s.changePercentage||0,notes:s.notes||"",isActive:s.isActive}),o({}))},[s]);let v=(e,s)=>{i(a=>({...a,[e]:s})),d[e]&&o(s=>({...s,[e]:""}))},p=async e=>{if(e.preventDefault(),(()=>{var e;let s={};if((null==(e=c.name)?void 0:e.trim())||(s.name="Asset name is required"),c.category||(s.category="Category is required"),(!c.value||c.value<=0)&&(s.value="Value must be greater than 0"),c.currency||(s.currency="Currency is required"),void 0!==c.currentValue&&c.currentValue<0&&(s.currentValue="Current value cannot be negative"),void 0!==c.changeAmount&&c.changeAmount<0&&c.value&&c.currentValue){let e=c.value;Math.abs(c.changeAmount)>e&&(s.changeAmount="Loss cannot exceed original value")}return o(s),0===Object.keys(s).length})()&&s){m(!0);try{let e={id:s.id,...c};await Y(e),x({title:"Success",description:"Asset updated successfully"}),n(),l()}catch(e){console.error("Error updating asset:",e),x({title:"Error",description:"Failed to update asset. Please try again.",variant:"destructive"})}finally{m(!1)}}},N=()=>{i({}),o({}),l()};return s?(0,t.jsx)(R.lG,{open:a,onOpenChange:N,children:(0,t.jsxs)(R.Cf,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)(R.c7,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(R.L3,{children:"Edit Asset"}),(0,t.jsxs)(R.rr,{children:["Update the details for “",s.name,"”"]})]}),(0,t.jsx)(r.$,{variant:"ghost",size:"sm",onClick:N,className:"h-8 w-8 p-0",children:(0,t.jsx)(Q.A,{className:"h-4 w-4"})})]})}),(0,t.jsxs)("form",{onSubmit:p,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Basic Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(B.J,{htmlFor:"name",children:"Asset Name *"}),(0,t.jsx)(z.p,{id:"name",value:c.name||"",onChange:e=>v("name",e.target.value),placeholder:"Enter asset name",className:d.name?"border-red-500":""}),d.name&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:d.name})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(B.J,{htmlFor:"category",children:"Category *"}),(0,t.jsxs)(Z.l6,{value:c.category||"",onValueChange:e=>v("category",e),children:[(0,t.jsx)(Z.bq,{className:d.category?"border-red-500":"",children:(0,t.jsx)(Z.yv,{placeholder:"Select category"})}),(0,t.jsx)(Z.gC,{children:h.map(e=>(0,t.jsx)(Z.eb,{value:e.name,children:e.name},e.name))})]}),d.category&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:d.category})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(B.J,{htmlFor:"value",children:"Original Value *"}),(0,t.jsx)(z.p,{id:"value",type:"number",step:"0.01",min:"0",value:c.value||"",onChange:e=>v("value",parseFloat(e.target.value)||0),placeholder:"0.00",className:d.value?"border-red-500":""}),d.value&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:d.value})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(B.J,{htmlFor:"currentValue",children:"Current Value"}),(0,t.jsx)(z.p,{id:"currentValue",type:"number",step:"0.01",min:"0",value:c.currentValue||"",onChange:e=>v("currentValue",parseFloat(e.target.value)||0),placeholder:"0.00",className:d.currentValue?"border-red-500":""}),d.currentValue&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:d.currentValue})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(B.J,{htmlFor:"currency",children:"Currency *"}),(0,t.jsxs)(Z.l6,{value:c.currency||"",onValueChange:e=>v("currency",e),children:[(0,t.jsx)(Z.bq,{className:d.currency?"border-red-500":"",children:(0,t.jsx)(Z.yv,{placeholder:"Select currency"})}),(0,t.jsxs)(Z.gC,{children:[(0,t.jsx)(Z.eb,{value:"AUD",children:"AUD"}),(0,t.jsx)(Z.eb,{value:"USD",children:"USD"}),(0,t.jsx)(Z.eb,{value:"EUR",children:"EUR"}),(0,t.jsx)(Z.eb,{value:"GBP",children:"GBP"}),(0,t.jsx)(Z.eb,{value:"CAD",children:"CAD"}),(0,t.jsx)(Z.eb,{value:"JPY",children:"JPY"})]})]}),d.currency&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:d.currency})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Performance Tracking"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(B.J,{htmlFor:"changeAmount",children:"Change Amount"}),(0,t.jsx)(z.p,{id:"changeAmount",type:"number",step:"0.01",value:c.changeAmount||"",onChange:e=>v("changeAmount",parseFloat(e.target.value)||0),placeholder:"0.00",className:d.changeAmount?"border-red-500":""}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Positive for gains, negative for losses"}),d.changeAmount&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:d.changeAmount})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(B.J,{htmlFor:"changePercentage",children:"Change Percentage"}),(0,t.jsx)(z.p,{id:"changePercentage",type:"number",step:"0.01",value:c.changePercentage||"",onChange:e=>v("changePercentage",parseFloat(e.target.value)||0),placeholder:"0.00"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Percentage change (e.g., 5.2 for 5.2%)"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Additional Details"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(B.J,{htmlFor:"institution",children:"Institution"}),(0,t.jsx)(z.p,{id:"institution",value:c.institution||"",onChange:e=>v("institution",e.target.value),placeholder:"Bank, company, etc."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(B.J,{htmlFor:"accountNumber",children:"Account Number"}),(0,t.jsx)(z.p,{id:"accountNumber",value:c.accountNumber||"",onChange:e=>v("accountNumber",e.target.value),placeholder:"Account or reference number"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(B.J,{htmlFor:"purchaseDate",children:"Purchase Date"}),(0,t.jsx)(z.p,{id:"purchaseDate",type:"date",value:c.purchaseDate||"",onChange:e=>v("purchaseDate",e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(B.J,{htmlFor:"notes",children:"Notes"}),(0,t.jsx)(O.T,{id:"notes",value:c.notes||"",onChange:e=>v("notes",e.target.value),placeholder:"Additional notes about this asset...",rows:3})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(j.S,{id:"isActive",checked:c.isActive||!1,onCheckedChange:e=>v("isActive",e)}),(0,t.jsx)(B.J,{htmlFor:"isActive",children:"Asset is active"})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[(0,t.jsx)(r.$,{type:"button",variant:"outline",onClick:N,children:"Cancel"}),(0,t.jsx)(r.$,{type:"submit",disabled:u,className:"button-blue-bg min-w-[100px]",children:u?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})]})}):null}let ee=(0,G.createServerReference)("40a6a26aad4f0403ce2062bc455d5aecb0fd682951",G.callServer,void 0,G.findSourceMapURL,"deleteAsset");var es=a(9923);function ea(e){let{asset:s,isOpen:a,onClose:l,onSuccess:n}=e,[c,i]=(0,g.useState)(!1),{toast:d}=(0,H.dj)();if(!s)return null;let o=async()=>{i(!0);try{await ee(s.id),d({title:"Success",description:"Asset deleted successfully"}),n(),l()}catch(e){console.error("Error deleting asset:",e),d({title:"Error",description:"Failed to delete asset. Please try again.",variant:"destructive"})}finally{i(!1)}};return(0,t.jsx)(R.lG,{open:a,onOpenChange:l,children:(0,t.jsxs)(R.Cf,{className:"max-w-md",children:[(0,t.jsx)(R.c7,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-red-100 dark:bg-red-900/20 flex items-center justify-center",children:(0,t.jsx)(es.A,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(R.L3,{className:"text-lg",children:"Delete Asset"}),(0,t.jsx)(R.rr,{children:"This action cannot be undone."})]})]}),(0,t.jsx)(r.$,{variant:"ghost",size:"sm",onClick:l,className:"h-8 w-8 p-0",children:(0,t.jsx)(Q.A,{className:"h-4 w-4"})})]})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"p-4 bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg",children:[(0,t.jsxs)("p",{className:"text-sm text-red-800 dark:text-red-200",children:["Are you sure you want to delete the asset"," ",(0,t.jsxs)("span",{className:"font-semibold",children:["“",s.name,"”"]}),"?"]}),(0,t.jsx)("p",{className:"text-sm text-red-700 dark:text-red-300 mt-2",children:"This will permanently remove the asset and all associated data from your account."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Asset Details:"}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground space-y-1",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Name:"})," ",s.name]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Category:"})," ",s.category]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Value:"})," ",s.currentValue||s.value," ",s.currency]}),s.institution&&(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Institution:"})," ",s.institution]})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[(0,t.jsx)(r.$,{variant:"outline",onClick:l,children:"Cancel"}),(0,t.jsx)(r.$,{variant:"destructive",onClick:o,disabled:c,className:"bg-red-600 hover:bg-red-700 dark:bg-red-600 dark:hover:bg-red-700 min-w-[120px]",children:c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Deleting..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Delete Asset"]})})]})]})})}var et=a(51157),el=a(23228);function er(e){let{table:s}=e,a=(0,D.useSearchParams)(),l=(0,D.useRouter)(),n=(0,D.usePathname)(),[c,i]=(0,g.useState)(!1),u=a.get("name")||"",m=a.get("category")||"all",x=a.get("status")||"all",h=a.get("minValue")||"",j=a.get("maxValue")||"",p=(0,q.oU)("assets"),N=[u,"all"!==m,"all"!==x,h,j].filter(Boolean).length,f=e=>{let s=new URLSearchParams(a);Object.entries(e).forEach(e=>{let[a,t]=e;t&&"all"!==t?s.set(a,t):s.delete(a)}),s.delete("page"),l.push("".concat(n,"?").concat(s.toString()))},b=e=>{f({name:e})},y=e=>{f({category:e})},w=e=>{f({status:e})},A=e=>{f({minValue:e})},C=e=>{f({maxValue:e})},k=()=>{l.push(n),i(!1)},S=e=>{let s=new URLSearchParams(a);s.delete(e),l.push("".concat(n,"?").concat(s.toString()))};return(0,g.useEffect)(()=>{var e,a,t,l,r,n;s&&(u?null==(e=s.getColumn("name"))||e.setFilterValue(u):null==(a=s.getColumn("name"))||a.setFilterValue(""),"all"!==m?null==(t=s.getColumn("category"))||t.setFilterValue(m):null==(l=s.getColumn("category"))||l.setFilterValue(""),"all"!==x?null==(r=s.getColumn("isActive"))||r.setFilterValue("active"===x):null==(n=s.getColumn("isActive"))||n.setFilterValue(""))},[u,m,x,s]),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsxs)("div",{className:"hidden md:flex items-center space-x-4 w-full",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0 max-w-none",children:[(0,t.jsx)(B.J,{htmlFor:"name-filter",className:"sr-only",children:"Search by name"}),(0,t.jsxs)("div",{className:"relative w-full",children:[(0,t.jsx)(el.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(z.p,{id:"name-filter",placeholder:"Search assets...",value:u,onChange:e=>b(e.target.value),className:"pl-10 w-full min-w-0"}),u&&(0,t.jsx)(r.$,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-6 w-6 p-0",onClick:()=>S("name"),children:(0,t.jsx)(Q.A,{className:"h-3 w-3"})})]})]}),(0,t.jsxs)("div",{className:"w-48",children:[(0,t.jsx)(B.J,{htmlFor:"category-filter",className:"sr-only",children:"Filter by category"}),(0,t.jsxs)(Z.l6,{value:m,onValueChange:y,children:[(0,t.jsx)(Z.bq,{children:(0,t.jsx)(Z.yv,{placeholder:"All Categories"})}),(0,t.jsxs)(Z.gC,{children:[(0,t.jsx)(Z.eb,{value:"all",children:"All Categories"}),p.map(e=>(0,t.jsx)(Z.eb,{value:e.name,children:e.name},e.name))]})]})]}),(0,t.jsxs)("div",{className:"w-32",children:[(0,t.jsx)(B.J,{htmlFor:"status-filter",className:"sr-only",children:"Filter by status"}),(0,t.jsxs)(Z.l6,{value:x,onValueChange:w,children:[(0,t.jsx)(Z.bq,{children:(0,t.jsx)(Z.yv,{placeholder:"All Status"})}),(0,t.jsxs)(Z.gC,{children:[(0,t.jsx)(Z.eb,{value:"all",children:"All Status"}),(0,t.jsx)(Z.eb,{value:"active",children:"Active"}),(0,t.jsx)(Z.eb,{value:"inactive",children:"Inactive"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)("div",{className:"w-24",children:[(0,t.jsx)(B.J,{htmlFor:"min-value",className:"sr-only",children:"Minimum value"}),(0,t.jsx)(z.p,{id:"min-value",placeholder:"Min $",value:h,onChange:e=>A(e.target.value),className:"text-sm"})]}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"-"}),(0,t.jsxs)("div",{className:"w-24",children:[(0,t.jsx)(B.J,{htmlFor:"max-value",className:"sr-only",children:"Maximum value"}),(0,t.jsx)(z.p,{id:"max-value",placeholder:"Max $",value:j,onChange:e=>C(e.target.value),className:"text-sm"})]})]}),s&&(0,t.jsxs)(v.rI,{children:[(0,t.jsx)(v.ty,{asChild:!0,children:(0,t.jsxs)(r.$,{variant:"outline",size:"sm",className:"cursor-pointer shadow-sm hover:bg-neutral-50 dark:hover:bg-neutral-800 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","aria-label":"Toggle column visibility",title:"Show/hide table columns",children:["Columns"," ",(0,t.jsx)(o.A,{className:"ml-2 h-4 w-4 transition-transform duration-200"})]})}),(0,t.jsx)(v.SQ,{align:"end",className:"animate-in fade-in-0 zoom-in-95",children:s.getAllColumns().filter(e=>e.getCanHide()).map(e=>{var s;return(0,t.jsx)(v.hO,{className:"capitalize cursor-pointer hover:bg-neutral-50 dark:hover:bg-neutral-800",checked:e.getIsVisible(),onCheckedChange:s=>e.toggleVisibility(!!s),children:{select:"Select",name:"Name",category:"Category",currentValue:"Current Value",purchaseDate:"Purchase Date",isActive:"Status",actions:"Actions"}[s=e.id]||s.charAt(0).toUpperCase()+s.slice(1)},e.id)})})]}),N>0&&(0,t.jsxs)(r.$,{variant:"outline",size:"sm",onClick:k,className:"text-muted-foreground hover:text-foreground",children:[(0,t.jsx)(Q.A,{className:"h-4 w-4 mr-2"}),"Clear (",N,")"]})]}),(0,t.jsx)("div",{className:"md:hidden",children:(0,t.jsxs)(et.cj,{open:c,onOpenChange:i,children:[(0,t.jsx)(et.CG,{asChild:!0,children:(0,t.jsxs)(r.$,{variant:"outline",className:"w-full justify-start",children:[(0,t.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Filters",N>0&&(0,t.jsx)("span",{className:"ml-2 rounded-full bg-blue-100 dark:bg-blue-900/30 px-2 py-1 text-xs font-medium text-blue-800 dark:text-blue-200",children:N})]})}),(0,t.jsxs)(et.h,{side:"bottom",className:"h-[80vh]",children:[(0,t.jsxs)(et.Fm,{children:[(0,t.jsx)(et.qp,{children:"Filter Assets"}),(0,t.jsx)(et.Qs,{children:"Narrow down your assets by various criteria"})]}),(0,t.jsxs)("div",{className:"space-y-6 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(B.J,{htmlFor:"mobile-name-filter",children:"Search by name"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(el.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(z.p,{id:"mobile-name-filter",placeholder:"Search assets...",value:u,onChange:e=>b(e.target.value),className:"pl-10"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(B.J,{htmlFor:"mobile-category-filter",children:"Category"}),(0,t.jsxs)(Z.l6,{value:m,onValueChange:y,children:[(0,t.jsx)(Z.bq,{children:(0,t.jsx)(Z.yv,{placeholder:"All Categories"})}),(0,t.jsxs)(Z.gC,{children:[(0,t.jsx)(Z.eb,{value:"all",children:"All Categories"}),p.map(e=>(0,t.jsx)(Z.eb,{value:e.name,children:e.name},e.name))]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(B.J,{htmlFor:"mobile-status-filter",children:"Status"}),(0,t.jsxs)(Z.l6,{value:x,onValueChange:w,children:[(0,t.jsx)(Z.bq,{children:(0,t.jsx)(Z.yv,{placeholder:"All Status"})}),(0,t.jsxs)(Z.gC,{children:[(0,t.jsx)(Z.eb,{value:"all",children:"All Status"}),(0,t.jsx)(Z.eb,{value:"active",children:"Active"}),(0,t.jsx)(Z.eb,{value:"inactive",children:"Inactive"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(B.J,{children:"Value Range"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(z.p,{placeholder:"Min $",value:h,onChange:e=>A(e.target.value),className:"text-sm"})}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"-"}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(z.p,{placeholder:"Max $",value:j,onChange:e=>C(e.target.value),className:"text-sm"})})]})]}),(0,t.jsxs)("div",{className:"flex space-x-2 pt-4",children:[(0,t.jsx)(r.$,{variant:"outline",onClick:k,className:"flex-1",children:"Clear All"}),(0,t.jsx)(r.$,{onClick:()=>i(!1),className:"flex-1",children:"Apply Filters"})]})]})]})]})}),N>0&&(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Active filters:"}),u&&(0,t.jsxs)("div",{className:"flex items-center space-x-1 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded-full",children:[(0,t.jsxs)("span",{className:"text-xs text-blue-800 dark:text-blue-200",children:["Name: ",u]}),(0,t.jsx)(r.$,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-blue-200 dark:hover:bg-blue-800",onClick:()=>S("name"),children:(0,t.jsx)(Q.A,{className:"h-3 w-3"})})]}),"all"!==m&&(0,t.jsxs)("div",{className:"flex items-center space-x-1 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded-full",children:[(0,t.jsxs)("span",{className:"text-xs text-blue-800 dark:text-blue-200",children:["Category: ",m]}),(0,t.jsx)(r.$,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-blue-200 dark:hover:bg-blue-800",onClick:()=>S("category"),children:(0,t.jsx)(Q.A,{className:"h-3 w-3"})})]}),"all"!==x&&(0,t.jsxs)("div",{className:"flex items-center space-x-1 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded-full",children:[(0,t.jsxs)("span",{className:"text-xs text-blue-800 dark:text-blue-200",children:["Status: ","active"===x?"Active":"Inactive"]}),(0,t.jsx)(r.$,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-blue-200 dark:hover:bg-blue-800",onClick:()=>S("status"),children:(0,t.jsx)(Q.A,{className:"h-3 w-3"})})]}),(h||j)&&(0,t.jsxs)("div",{className:"flex items-center space-x-1 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded-full",children:[(0,t.jsxs)("span",{className:"text-xs text-blue-800 dark:text-blue-200",children:["Value: ",h||"0"," - ",j||"∞"]}),(0,t.jsx)(r.$,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-blue-200 dark:hover:bg-blue-800",onClick:()=>{S("minValue"),S("maxValue")},children:(0,t.jsx)(Q.A,{className:"h-3 w-3"})})]})]})]})}var en=a(63985);function ec(e){let{rowCount:s}=e;return(0,t.jsxs)("div",{className:"w-full space-y-4",children:[(0,t.jsxs)("div",{className:"overflow-hidden rounded-md border w-full bg-neutral-50 dark:bg-neutral-900 shadow-sm",children:[(0,t.jsx)("div",{className:"border-b bg-white dark:bg-neutral-950",children:(0,t.jsxs)("div",{className:"grid grid-cols-6 gap-4 p-4",children:[(0,t.jsx)(en.E,{className:"h-4 w-4"})," ",(0,t.jsx)(en.E,{className:"h-4 w-24"})," ",(0,t.jsx)(en.E,{className:"h-4 w-20"})," ",(0,t.jsx)(en.E,{className:"h-4 w-28"})," ",(0,t.jsx)(en.E,{className:"h-4 w-24"})," ",(0,t.jsx)(en.E,{className:"h-4 w-16"})," "]})}),(0,t.jsx)("div",{className:"divide-y",children:Array.from({length:s}).map((e,s)=>(0,t.jsx)("div",{className:"p-4 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:(0,t.jsxs)("div",{className:"grid grid-cols-6 gap-4 items-center",children:[(0,t.jsx)(en.E,{className:"h-4 w-4"}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(en.E,{className:"w-8 h-8 rounded-full"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(en.E,{className:"h-4 w-24"}),(0,t.jsx)(en.E,{className:"h-3 w-20"})]})]}),(0,t.jsx)(en.E,{className:"h-4 w-20"}),(0,t.jsxs)("div",{className:"text-right space-y-1",children:[(0,t.jsx)(en.E,{className:"h-4 w-16 ml-auto"}),(0,t.jsx)(en.E,{className:"h-3 w-20 ml-auto"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(en.E,{className:"w-3 h-3"}),(0,t.jsx)(en.E,{className:"h-4 w-16"})]}),(0,t.jsx)(en.E,{className:"h-6 w-16 rounded-full"})]})},s))})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between space-x-2 py-4",children:[(0,t.jsx)(en.E,{className:"h-4 w-48"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(en.E,{className:"h-8 w-20"}),(0,t.jsx)(en.E,{className:"h-8 w-20"})]})]})]})}function ei(){return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-end justify-between",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(en.E,{className:"h-9 w-32"}),(0,t.jsx)(en.E,{className:"h-5 w-96"})]}),(0,t.jsx)(en.E,{className:"h-10 w-32"})]}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(en.E,{className:"h-10 w-80"}),(0,t.jsx)(en.E,{className:"h-10 w-48"}),(0,t.jsx)(en.E,{className:"h-10 w-32"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(en.E,{className:"h-10 w-24"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"-"}),(0,t.jsx)(en.E,{className:"h-10 w-24"})]})]})}),(0,t.jsx)(ec,{rowCount:8,isMobile:!1})]})}var ed=a(27194),eo=a(25235),eu=a(85481),em=a(9060),ex=a(52260),eh=a(49970),eg=a(26019);function ej(e){let{assets:s,isLoading:a=!1}=e;if(a)return(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(e=>(0,t.jsxs)(ed.Zp,{className:"container-color",children:[(0,t.jsxs)(ed.aR,{children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),(0,t.jsx)("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]}),(0,t.jsx)(ed.Wu,{children:(0,t.jsx)("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded"})})]},e))});if(!s||0===s.length)return(0,t.jsx)(ed.Zp,{className:"container-color",children:(0,t.jsx)(ed.Wu,{className:"flex items-center justify-center h-64",children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center",children:(0,t.jsx)(eu.A,{className:"h-8 w-8 text-muted-foreground"})}),(0,t.jsx)("div",{className:"text-lg font-medium",children:"No insights available"}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground max-w-md text-center",children:"Add some assets to your portfolio to see detailed insights, performance metrics, and category breakdowns."})]})})});let l=s.reduce((e,s)=>e+(s.currentValue||s.value),0),r=s.reduce((e,s)=>e+(s.changeAmount||0),0),c=l>0?r/(l-r)*100:0,i=s.reduce((e,s)=>{let a=s.category;return e[a]||(e[a]={total:0,count:0,assets:[]}),e[a].total+=s.currentValue||s.value,e[a].count+=1,e[a].assets.push(s),e},{}),d=Object.entries(i).map(e=>{let[s,a]=e;return{name:s,value:a.total,color:({Cash:"emerald","Checking Account":"blue","Savings Account":"violet","Investment Account":"amber","Retirement Account":"red","Real Estate":"cyan",Vehicle:"lime",Jewelry:"orange",Collectibles:"pink",Business:"indigo",Cryptocurrency:"amber","Precious Metals":"amber",Art:"violet","Other Assets":"gray"})[s]||"gray"}}),o=s.filter(e=>e.changeAmount&&e.changeAmount>0).sort((e,s)=>(s.changeAmount||0)-(e.changeAmount||0)).slice(0,3),u=s.filter(e=>e.changeAmount&&e.changeAmount<0).sort((e,s)=>(e.changeAmount||0)-(s.changeAmount||0)).slice(0,3),m={"Cash & Savings":s.filter(e=>["Cash","Checking Account","Savings Account"].includes(e.category)).length,Investments:s.filter(e=>["Investment Account","Retirement Account","Cryptocurrency"].includes(e.category)).length,"Real Estate":s.filter(e=>["Real Estate"].includes(e.category)).length,Vehicles:s.filter(e=>["Vehicle"].includes(e.category)).length,Collectibles:s.filter(e=>["Jewelry","Collectibles","Art","Precious Metals"].includes(e.category)).length,Other:s.filter(e=>["Business","Other Assets"].includes(e.category)).length};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsxs)(ed.Zp,{className:"container-color",children:[(0,t.jsxs)(ed.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(ed.ZB,{className:"text-sm font-medium",children:"Total Assets"}),(0,t.jsx)(em.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(ed.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:(0,I.vv)(l)}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Across ",s.length," assets"]})]})]}),(0,t.jsxs)(ed.Zp,{className:"container-color",children:[(0,t.jsxs)(ed.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(ed.ZB,{className:"text-sm font-medium",children:"Total Change"}),r>=0?(0,t.jsx)(b.A,{className:"h-4 w-4 text-green-600"}):(0,t.jsx)(y.A,{className:"h-4 w-4 text-red-600"})]}),(0,t.jsxs)(ed.Wu,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold ".concat(r>=0?"text-green-600":"text-red-600"),children:[r>=0?"+":"",(0,I.vv)(r)]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[c>=0?"+":"",c.toFixed(1),"% overall"]})]})]}),(0,t.jsxs)(ed.Zp,{className:"container-color",children:[(0,t.jsxs)(ed.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(ed.ZB,{className:"text-sm font-medium",children:"Active Assets"}),(0,t.jsx)(eu.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(ed.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:s.filter(e=>e.isActive).length}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["of ",s.length," total"]})]})]}),(0,t.jsxs)(ed.Zp,{className:"container-color",children:[(0,t.jsxs)(ed.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(ed.ZB,{className:"text-sm font-medium",children:"Average Value"}),(0,t.jsx)($.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(ed.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:(0,I.vv)(l/s.length)}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"per asset"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(ed.Zp,{className:"container-color",children:[(0,t.jsxs)(ed.aR,{children:[(0,t.jsx)(ed.ZB,{children:"Asset Distribution by Category"}),(0,t.jsx)(ed.BT,{children:"Breakdown of your assets by financial category"})]}),(0,t.jsxs)(ed.Wu,{children:[(0,t.jsx)("div",{className:"h-64",children:(0,t.jsx)(eo.V,{data:d,category:"name",value:"value",colors:["sky","blue","emerald","violet","amber","cyan","pink","lime"]})}),(0,t.jsx)("div",{className:"mt-4 space-y-2",children:Object.entries(i).map(e=>{let[s,a]=e;return(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full ".concat({Cash:"bg-emerald-500","Checking Account":"bg-blue-500","Savings Account":"bg-violet-500","Investment Account":"bg-amber-500","Retirement Account":"bg-red-500","Real Estate":"bg-cyan-500",Vehicle:"bg-lime-500",Jewelry:"bg-orange-500",Collectibles:"bg-pink-500",Business:"bg-indigo-500",Cryptocurrency:"bg-amber-500","Precious Metals":"bg-amber-500",Art:"bg-violet-500","Other Assets":"bg-gray-500"}[s]||"bg-gray-500")}),(0,t.jsx)("span",{children:s})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"font-medium",children:(0,I.vv)(a.total)}),(0,t.jsxs)("span",{className:"text-muted-foreground",children:["(",a.count,")"]})]})]},s)})})]})]}),(0,t.jsxs)("div",{className:"flex flex-col h-full space-y-6",children:[(0,t.jsxs)(ed.Zp,{className:"container-color flex-1",children:[(0,t.jsxs)(ed.aR,{children:[(0,t.jsxs)(ed.ZB,{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.A,{className:"h-5 w-5 text-green-600"}),(0,t.jsx)("span",{children:"Top Performing Assets"})]}),(0,t.jsx)(ed.BT,{children:"Assets with the highest gains"})]}),(0,t.jsx)(ed.Wu,{children:o.length>0?(0,t.jsx)("div",{className:"space-y-3",children:o.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-950/20 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-green-100 dark:bg-green-900/20 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-sm font-bold text-green-600",children:s+1})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-sm",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.category})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"text-sm font-semibold text-green-600",children:["+",(0,I.vv)(e.changeAmount||0)]}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:["+",e.changePercentage,"%"]})]})]},e.id))}):(0,t.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"No gains to display"})})]}),(0,t.jsxs)(ed.Zp,{className:"container-color flex-1",children:[(0,t.jsxs)(ed.aR,{children:[(0,t.jsxs)(ed.ZB,{className:"flex items-center space-x-2",children:[(0,t.jsx)(y.A,{className:"h-5 w-5 text-red-600"}),(0,t.jsx)("span",{children:"Assets with Losses"})]}),(0,t.jsx)(ed.BT,{children:"Assets that have decreased in value"})]}),(0,t.jsx)(ed.Wu,{children:u.length>0?(0,t.jsx)("div",{className:"space-y-3",children:u.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-red-50 dark:bg-red-950/20 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-red-100 dark:bg-red-900/20 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-sm font-bold text-red-600",children:s+1})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-sm",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.category})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-sm font-semibold text-red-600",children:(0,I.vv)(e.changeAmount||0)}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:[e.changePercentage,"%"]})]})]},e.id))}):(0,t.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"No losses to display"})})]})]})]}),(0,t.jsxs)(ed.Zp,{className:"container-color",children:[(0,t.jsxs)(ed.aR,{children:[(0,t.jsx)(ed.ZB,{children:"Asset Type Distribution"}),(0,t.jsx)(ed.BT,{children:"Count of assets by type"})]}),(0,t.jsx)(ed.Wu,{children:(0,t.jsx)("div",{className:"space-y-4",children:Object.entries(m).map(e=>{var a;let[l,r]=e;return(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(a=l,({"Cash & Savings":(0,t.jsx)(em.A,{className:"h-4 w-4 text-green-600"}),Investments:(0,t.jsx)(b.A,{className:"h-4 w-4 text-blue-600"}),"Real Estate":(0,t.jsx)(ex.A,{className:"h-4 w-4 text-cyan-600"}),Vehicles:(0,t.jsx)(eh.A,{className:"h-4 w-4 text-lime-600"}),Collectibles:(0,t.jsx)(eg.A,{className:"h-4 w-4 text-pink-600"}),Other:(0,t.jsx)(n.A,{className:"h-4 w-4 text-gray-600"})})[a]||(0,t.jsx)(n.A,{className:"h-4 w-4 text-gray-600"})),(0,t.jsx)("span",{className:"text-sm",children:l})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-20 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(r/s.length*100,"%")}})}),(0,t.jsx)("span",{className:"text-sm font-medium w-8 text-right",children:r})]})]},l)})})})]})]})}function ev(e){var s;let{columns:a,data:l,isLoading:c=!1,sortStates:i,onTableReady:d,onRefresh:o}=e,[j,v]=(0,g.useState)(1),[p,N]=(0,g.useState)({}),[f,b]=(0,g.useState)({}),[y,w]=(0,g.useState)([]),[A,C]=(0,g.useState)(null),[k,S]=(0,g.useState)(!1),[F,P]=(0,g.useState)(!1),[R,M]=(0,g.useState)(!1),J=(0,D.useSearchParams)(),$=(0,E.a)(),U=J.get("name")||"",I=J.get("category")||"all",T=J.get("status")||"all",z=J.get("minValue"),B=J.get("maxValue");(0,g.useEffect)(()=>{$?N({select:!0,name:!0,category:!1,currentValue:!0,purchaseDate:!1,isActive:!1,actions:!0}):N({select:!0,name:!0,category:!0,currentValue:!0,purchaseDate:!0,isActive:!0,actions:!0})},[$]);let O=e=>{C(e),S(!0)},Z=e=>{C(e),P(!0)},q=e=>{C(e),M(!0)};(0,g.useEffect)(()=>{V={onView:O,onEdit:Z,onDelete:q}},[]);let G=(0,g.useMemo)(()=>{let e=l;if(U&&(e=e.filter(e=>e.name.toLowerCase().includes(U.toLowerCase()))),"all"!==I&&(e=e.filter(e=>e.category===I)),"all"!==T&&(e=e.filter(e=>"active"===T?!0===e.isActive:!1===e.isActive)),(z||B)&&(e=e.filter(e=>{let s=e.currentValue||e.value;return z&&B?s>=Number(z)&&s<=Number(B):z?s>=Number(z):!B||s<=Number(B)})),i){let s=Object.entries(i).find(e=>{let[,s]=e;return!1!==s});if(s){let[a,t]=s;e=[...e].sort((e,s)=>{let l=e[a],r=s[a];return(("purchaseDate"===a||"createdAt"===a||"updatedAt"===a)&&(l=new Date(l).getTime(),r=new Date(r).getTime()),("value"===a||"currentValue"===a||"changeAmount"===a||"changePercentage"===a)&&(l=Number(l),r=Number(r)),"isActive"===a&&(l=+!!l,r=+!!r),"string"==typeof l&&(l=l.toLowerCase(),r=r.toLowerCase()),"asc"===t)?l<r?-1:+(l>r):l>r?-1:+(l<r)})}}return e},[l,U,I,T,z,B,i]),W=(0,m.N4)({data:G,columns:a,getCoreRowModel:(0,x.HT)(),getPaginationRowModel:(0,x.kW)(),getFilteredRowModel:(0,x.hM)(),onColumnVisibilityChange:N,onRowSelectionChange:b,onColumnFiltersChange:e=>{w(e),v(1)},state:{pagination:{pageIndex:j-1,pageSize:20},columnVisibility:p,rowSelection:f,columnFilters:y},initialState:{columnVisibility:p},onPaginationChange:e=>{"function"==typeof e&&v(e({pageIndex:j-1,pageSize:20}).pageIndex+1)}});(0,g.useEffect)(()=>{d&&W&&d(W)},[W,d]);let H=W.getFilteredSelectedRowModel().rows.length,_=Math.ceil(W.getFilteredRowModel().rows.length/20);(0,g.useEffect)(()=>{j>_&&_>0&&v(1)},[_,j]);let K=e=>{v(e),W.setPageIndex(e-1)};return c?(0,t.jsx)(ec,{rowCount:8,isMobile:$}):(0,t.jsxs)("div",{className:"w-full space-y-4 -mt-4",children:[H>0&&(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg",children:[(0,t.jsx)("div",{className:"flex items-center space-x-2",children:(0,t.jsxs)("span",{className:"text-sm font-medium text-red-700 dark:text-red-300",children:[H," asset",1===H?"":"s"," selected:"]})}),(0,t.jsxs)(r.$,{variant:"destructive",size:"sm",onClick:()=>{let e=W.getFilteredSelectedRowModel().rows.map(e=>e.original);if(0===e.length)return;let s=1===e.length?'Are you sure you want to delete the asset "'.concat(e[0].name,'"?'):"Are you sure you want to delete ".concat(e.length," selected assets?");window.confirm(s)&&(console.log("Deleting assets:",e),b({}))},className:"bg-red-600 hover:bg-red-700 dark:bg-red-600 dark:hover:bg-red-700",children:[(0,t.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Delete"]})]}),(0,t.jsx)("div",{className:"overflow-hidden rounded-md border w-full bg-neutral-50 dark:bg-neutral-900 shadow-sm",children:(0,t.jsxs)(u.XI,{className:"w-full ".concat($?"text-sm":""),children:[(0,t.jsx)(u.A0,{className:"text-semibold !bg-white hover:!bg-white dark:!bg-neutral-950 dark:hover:!bg-neutral-950 rounded-t-lg",children:W.getHeaderGroups().map(e=>(0,t.jsx)(u.Hj,{className:"hover:!bg-white dark:hover:!bg-white",children:e.headers.map(e=>(0,t.jsx)(u.nd,{className:"ml-0 ".concat("select"===e.id?"pl-2":"pl-0"," ").concat($?"py-1 px-2 text-sm":"py-2 text-base"),children:e.isPlaceholder?null:(0,m.Kv)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,t.jsx)(u.BF,{children:(null==(s=W.getRowModel().rows)?void 0:s.length)?W.getRowModel().rows.map(e=>(0,t.jsx)(u.Hj,{"data-state":e.getIsSelected()&&"selected",className:"cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors group",onClick:s=>{s.target instanceof Element&&(s.target.closest('[data-action="button"]')||s.target.closest('input[type="checkbox"]'))||O(e.original)},children:e.getVisibleCells().map(e=>(0,t.jsx)(u.nA,{className:"text-left group-hover:bg-slate-50 dark:group-hover:bg-slate-800/30 ".concat($?"py-1":"py-2"," ").concat("actions"!==e.column.id?"pl-2":""),children:(0,m.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,t.jsx)(u.Hj,{children:(0,t.jsx)(u.nA,{colSpan:a.length,className:"h-32 text-center",children:0===G.length&&l.length>0?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,t.jsx)("div",{className:"text-muted-foreground",children:"No results found for your search criteria."}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Try adjusting your filters or search terms."})]}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center",children:(0,t.jsx)(n.A,{className:"h-8 w-8 text-muted-foreground"})}),(0,t.jsx)("div",{className:"text-lg font-medium",children:"No assets yet"}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground max-w-sm text-center",children:"Start building your financial portfolio by adding your first asset. Track investments, property, savings accounts, and more."}),(0,t.jsxs)(r.$,{onClick:()=>{let e=new CustomEvent("openCreateAssetDialog");window.dispatchEvent(e)},className:"button-blue-bg mt-2",children:[(0,t.jsx)(n.A,{className:"h-4 w-4 mr-2"}),"Add Your First Asset"]})]})})})})]})}),$&&(0,t.jsx)("div",{className:"text-xs text-muted-foreground text-center py-2",children:"\uD83D\uDCA1 Swipe to see more details • Tap row to view full asset"}),_>1&&(0,t.jsxs)("div",{className:"flex items-center justify-between space-x-2 py-0",children:[(0,t.jsxs)("div",{className:"text-muted-foreground flex-1 text-sm",children:[W.getFilteredSelectedRowModel().rows.length," of"," ",W.getFilteredRowModel().rows.length," row(s) selected."]}),(0,t.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,t.jsxs)("div",{className:"text-sm text-muted-foreground whitespace-nowrap",children:["Showing ",(j-1)*20+1," to"," ",Math.min(20*j,W.getFilteredRowModel().rows.length)," ","of ",W.getFilteredRowModel().rows.length," results"]}),(0,t.jsxs)("div",{className:"space-x-2",children:[(0,t.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>K(Math.max(1,j-1)),disabled:1===j,className:"enabled:cursor-pointer",children:"Previous"}),(0,t.jsx)(r.$,{variant:"outline",className:"enabled:cursor-pointer",size:"sm",onClick:()=>K(Math.min(_,j+1)),disabled:j===_,children:"Next"})]})]})]}),_<=1&&(0,t.jsxs)("div",{className:"flex items-center justify-between space-x-2 py-4",children:[(0,t.jsxs)("div",{className:"text-muted-foreground flex-1 text-sm",children:[W.getFilteredSelectedRowModel().rows.length," of"," ",W.getFilteredRowModel().rows.length," row(s) selected."]}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground whitespace-nowrap",children:["Found ",W.getFilteredRowModel().rows.length," results"]})]}),(0,t.jsx)(L,{asset:A,isOpen:k,onClose:()=>{S(!1),C(null)}}),(0,t.jsx)(X,{asset:A,isOpen:F,onClose:()=>P(!1),onSuccess:()=>{P(!1),C(null),o&&o()}}),(0,t.jsx)(ea,{asset:A,isOpen:R,onClose:()=>M(!1),onSuccess:()=>{M(!1),C(null),o&&o()}})]})}var ep=a(26859),eN=a(54988);let ef=(0,G.createServerReference)("00f203be6570145059c791601f8741bbea8c1c1863",G.callServer,void 0,G.findSourceMapURL,"getUserAssets");function eb(){let[e,s]=(0,g.useState)([]),[a,u]=(0,g.useState)(!0),[m,x]=(0,g.useState)("table"),[p,N]=(0,g.useState)(!1),[f,E]=(0,g.useState)(!1),[R,M]=(0,g.useState)(!1),{sortStates:J,toggleSorting:$}=(0,ep.K)(),U=(0,D.useSearchParams)(),{toast:I}=(0,H.dj)(),T=(0,g.useRef)(null),L=[{id:"select",header:e=>{let{table:s}=e;return(0,t.jsx)(j.S,{checked:s.getIsAllPageRowsSelected()||s.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:e=>s.toggleAllPageRowsSelected(!!e),"aria-label":"Select all",className:"ml-2"})},cell:e=>{let{row:s}=e;return(0,t.jsx)(j.S,{checked:s.getIsSelected(),onCheckedChange:e=>s.toggleSelected(!!e),"aria-label":"Select row",className:"ml-2",onClick:e=>e.stopPropagation()})},enableSorting:!1,enableHiding:!1},{accessorKey:"name",header:()=>(0,t.jsx)(F,{columnId:"name",sortState:J.name||!1,onToggleSort:$,children:"Asset Name"}),cell:e=>{let{row:s}=e,a=s.original;return(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(e=>{let s=(0,S.UF)(e);return s?(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900/20 flex items-center justify-center",children:(0,t.jsx)(s,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}):null})(a.category),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-sm",children:a.name}),a.institution&&(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:a.institution})]})]})}},{accessorKey:"category",header:()=>(0,t.jsx)(F,{columnId:"category",sortState:J.category||!1,onToggleSort:$,children:"Category"}),cell:e=>{let{row:s}=e;return(0,t.jsx)("div",{className:"text-sm",children:s.getValue("category")})}},{accessorKey:"currentValue",header:()=>(0,t.jsx)(F,{columnId:"currentValue",sortState:J.currentValue||!1,onToggleSort:$,children:"Current Value"}),cell:e=>{let{row:s}=e,a=s.original;return(0,t.jsx)("div",{className:"text-left",children:(0,t.jsxs)("div",{className:"flex items-center justify-start space-x-2 min-h-[1.5rem]",children:[(0,t.jsx)("div",{className:"font-medium text-sm leading-none",children:P(a.currentValue||a.value,a.currency)}),void 0!==a.changeAmount&&(0,t.jsx)("div",{className:"text-xs leading-none",children:(e=>{if(!e.changeAmount||!e.changePercentage)return(0,t.jsx)("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400 rounded-full",children:"No change"});let s=e.changeAmount>=0,a="".concat(s?"+":"").concat(P(e.changeAmount,e.currency)," (").concat(s?"+":"").concat(e.changePercentage,"%)");return(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[s?(0,t.jsx)(b.A,{className:"h-3 w-3 text-green-600"}):(0,t.jsx)(y.A,{className:"h-3 w-3 text-red-600"}),(0,t.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(s?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"),children:a})]})})(a)})]})})}},{accessorKey:"purchaseDate",header:()=>(0,t.jsx)(F,{columnId:"purchaseDate",sortState:J.purchaseDate||!1,onToggleSort:$,children:"Purchase Date"}),cell:e=>{let{row:s}=e,a=s.getValue("purchaseDate");return a?(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(w.A,{className:"h-3 w-3 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-sm",children:(e=>{let s=new Date(e),a=s.getDate().toString().padStart(2,"0"),t=(s.getMonth()+1).toString().padStart(2,"0"),l=s.getFullYear().toString().slice(-2);return"".concat(a,"/").concat(t,"/").concat(l)})(a)})]}):(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"N/A"})}},{accessorKey:"isActive",header:()=>(0,t.jsx)(F,{columnId:"isActive",sortState:J.isActive||!1,onToggleSort:$,children:"Status"}),cell:e=>{let{row:s}=e,a=s.getValue("isActive");return(0,t.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(a?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"),children:a?"Active":"Inactive"})}},{id:"actions",enableHiding:!1,cell:e=>{let{row:s}=e,a=s.original;return(0,t.jsxs)(v.rI,{children:[(0,t.jsx)(v.ty,{asChild:!0,children:(0,t.jsxs)(r.$,{variant:"ghost",className:"h-8 w-8 p-0","data-action":"button",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,t.jsx)(A.A,{className:"h-4 w-4"})]})}),(0,t.jsxs)(v.SQ,{align:"end",children:[(0,t.jsxs)(v._2,{onClick:e=>{e.stopPropagation(),null==V||V.onView(a)},className:"cursor-pointer",children:[(0,t.jsx)(C.A,{className:"mr-2 h-4 w-4"}),"View Details"]}),(0,t.jsxs)(v._2,{onClick:e=>{e.stopPropagation(),null==V||V.onEdit(a)},className:"cursor-pointer",children:[(0,t.jsx)(k.A,{className:"mr-2 h-4 w-4"}),"Edit Asset"]}),(0,t.jsxs)(v._2,{onClick:e=>{e.stopPropagation(),null==V||V.onDelete(a)},className:"cursor-pointer text-red-600 dark:text-red-400",children:[(0,t.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"Delete Asset"]})]})]})}}];(0,g.useEffect)(()=>{(async()=>{try{u(!0);let e=await ef();s(e)}catch(e){console.error("Error loading assets:",e),I({title:"Error",description:"Failed to load assets. Please try again.",variant:"destructive"})}finally{u(!1)}})()},[I]),(0,g.useEffect)(()=>{[U.get("name"),U.get("category"),U.get("status"),U.get("minValue"),U.get("maxValue")].some(Boolean)&&N(!0)},[U]),(0,g.useEffect)(()=>{let e=()=>{M(!0)};return window.addEventListener("openCreateAssetDialog",e),()=>{window.removeEventListener("openCreateAssetDialog",e)}},[]);let z=async()=>{try{u(!0);let e=await ef();s(e)}catch(e){console.error("Error refreshing assets:",e),I({title:"Error",description:"Failed to refresh assets. Please try again.",variant:"destructive"})}finally{u(!1)}};return a?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(ei,{}),(0,t.jsx)(l.m,{}),(0,t.jsx)(K,{isOpen:R,onClose:()=>M(!1),onSuccess:z})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-end justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Assets"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Track and manage your financial assets, investments, and property values."})]}),(0,t.jsxs)(r.$,{className:"button-blue-bg hover:cursor-pointer",onClick:()=>M(!0),children:[(0,t.jsx)(n.A,{className:"mr-1 h-4 w-4"}),"Add Asset"]})]}),(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)(eN.tU,{value:m,onValueChange:x,className:"w-auto",children:(0,t.jsxs)(eN.j7,{className:"grid w-auto grid-cols-2",children:[(0,t.jsxs)(eN.Xi,{value:"table",className:"flex items-center space-x-2",children:[(0,t.jsx)(c.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Asset List"})]}),(0,t.jsxs)(eN.Xi,{value:"insights",className:"flex items-center space-x-2",children:[(0,t.jsx)(i.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Insights"})]})]})}),"table"===m&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(r.$,{variant:"outline",size:"sm",onClick:()=>N(!p),className:"flex items-center space-x-2",children:[(0,t.jsx)(d.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Filters"}),(()=>{let e=[U.get("name"),U.get("category"),U.get("status"),U.get("minValue"),U.get("maxValue")].filter(Boolean).length;return e>0?(0,t.jsx)("span",{className:"ml-2 rounded-full bg-blue-100 dark:bg-blue-900/30 px-2 py-1 text-xs font-medium text-blue-800 dark:text-blue-200 animate-pulse",children:e}):null})(),(0,t.jsx)("div",{className:"transition-transform duration-200 ".concat(p?"rotate-180":""),children:(0,t.jsx)(o.A,{className:"h-4 w-4"})})]}),[U.get("name"),U.get("category"),U.get("status"),U.get("minValue"),U.get("maxValue")].filter(Boolean).length>0?(0,t.jsx)(r.$,{variant:"ghost",size:"sm",onClick:()=>{window.location.href=window.location.pathname},className:"text-muted-foreground hover:text-foreground transition-colors duration-200 hover:bg-neutral-100 dark:hover:bg-neutral-800",children:"Clear All Filters"}):null]})]}),"table"===m&&(0,t.jsx)("div",{className:"transition-all duration-300 ease-in-out ".concat(p?"opacity-100 max-h-[1000px]":"opacity-0 max-h-0 overflow-hidden"),children:f?(0,t.jsx)("div",{className:"w-full p-3 bg-white dark:bg-neutral-950 border border-neutral-200 dark:border-neutral-800 rounded-lg shadow-sm",children:(0,t.jsx)(er,{table:T.current||void 0})}):(0,t.jsx)("div",{className:"w-full p-4 text-center text-muted-foreground bg-neutral-50 dark:bg-neutral-900/50 border border-neutral-200 dark:border-neutral-700 rounded-lg animate-in fade-in duration-300",children:(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-4 bg-neutral-200 dark:bg-neutral-700 rounded w-1/4 mx-auto mb-2"}),(0,t.jsx)("div",{className:"h-4 bg-neutral-200 dark:bg-neutral-700 rounded w-1/2 mx-auto"})]})})})]}),(0,t.jsxs)(eN.tU,{value:m,onValueChange:x,className:"w-full",children:[(0,t.jsx)(eN.av,{value:"table",className:"space-y-2",children:(0,t.jsx)(g.Suspense,{fallback:(0,t.jsx)(ei,{}),children:(0,t.jsx)(ev,{columns:L,data:e,isLoading:a,sortStates:J,onTableReady:e=>{T.current=e,E(!0)},onRefresh:z})})}),(0,t.jsx)(eN.av,{value:"insights",className:"space-y-4",children:(0,t.jsx)(ej,{assets:e,isLoading:a})})]}),(0,t.jsx)(l.m,{}),(0,t.jsx)(K,{isOpen:R,onClose:()=>M(!1),onSuccess:z})]})}let ey=function(){return(0,t.jsx)(g.Suspense,{fallback:(0,t.jsx)(ei,{}),children:(0,t.jsx)(eb,{})})}}},e=>{e.O(0,[6251,6960,4463,7038,8301,7604,9256,1278,2615,882,8656,3804,6678,1,6540,7358],()=>e(e.s=45679)),_N_E=e.O()}]);