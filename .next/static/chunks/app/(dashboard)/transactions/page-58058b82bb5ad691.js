(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3486],{6471:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(71861).A)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]])},9060:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(71861).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},14031:(e,a,t)=>{Promise.resolve().then(t.bind(t,49118))},16055:(e,a,t)=>{"use strict";t.d(a,{$v:()=>x,EO:()=>d,Lt:()=>c,Rx:()=>g,Zr:()=>p,ck:()=>u,r7:()=>h,wd:()=>m});var s=t(90013);t(54281);var n=t(40805),r=t(59367),l=t(91784);function c(e){let{...a}=e;return(0,s.jsx)(n.bL,{"data-slot":"alert-dialog",...a})}function i(e){let{...a}=e;return(0,s.jsx)(n.ZL,{"data-slot":"alert-dialog-portal",...a})}function o(e){let{className:a,...t}=e;return(0,s.jsx)(n.hJ,{"data-slot":"alert-dialog-overlay",className:(0,r.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...t})}function d(e){let{className:a,...t}=e;return(0,s.jsxs)(i,{children:[(0,s.jsx)(o,{}),(0,s.jsx)(n.UC,{"data-slot":"alert-dialog-content",className:(0,r.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...t})]})}function m(e){let{className:a,...t}=e;return(0,s.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,r.cn)("flex flex-col gap-2 text-center sm:text-left",a),...t})}function u(e){let{className:a,...t}=e;return(0,s.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,r.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...t})}function h(e){let{className:a,...t}=e;return(0,s.jsx)(n.hE,{"data-slot":"alert-dialog-title",className:(0,r.cn)("text-lg font-semibold",a),...t})}function x(e){let{className:a,...t}=e;return(0,s.jsx)(n.VY,{"data-slot":"alert-dialog-description",className:(0,r.cn)("text-muted-foreground text-sm",a),...t})}function g(e){let{className:a,...t}=e;return(0,s.jsx)(n.rc,{className:(0,r.cn)((0,l.r)(),a),...t})}function p(e){let{className:a,...t}=e;return(0,s.jsx)(n.ZD,{className:(0,r.cn)((0,l.r)({variant:"outline"}),a),...t})}},19901:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(71861).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},26859:(e,a,t)=>{"use strict";t.d(a,{K:()=>n});var s=t(54281);let n=()=>{let[e,a]=(0,s.useState)({}),t=(0,s.useCallback)(e=>{a(a=>{let t=a[e],s={};return Object.keys(a).forEach(a=>{a!==e&&(s[a]=!1)}),s[e]="asc"===t?"desc":"desc"!==t&&"asc",s})},[]),n=(0,s.useCallback)(a=>e[a]||!1,[e]);return{sortStates:e,toggleSorting:t,getSortState:n,clearAllSorting:(0,s.useCallback)(()=>{a({})},[])}}},28739:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(71861).A)("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},31867:(e,a,t)=>{"use strict";t.d(a,{k:()=>j,setGlobalActionHandlers:()=>g});var s=t(90013),n=t(30363),r=t(91784),l=t(10213),c=t(83409),i=t(83320),o=t(7532),d=t(57391),m=t(82825),u=t(87725),h=t(78757);let x=null,g=e=>{x=e},p=e=>{let{columnId:a,sortState:t,onToggleSort:n,children:l,className:d=""}=e;return(0,s.jsxs)(r.$,{variant:"ghost",onClick:()=>n(a),className:"h-auto p-0 py-2 font-semibold hover:bg-slate-100 dark:hover:bg-slate-800 cursor-pointer ".concat(t?"table-header-sorted":""," ").concat(d),children:[l,"asc"===t?(0,s.jsx)(c.A,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}):"desc"===t?(0,s.jsx)(i.A,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}):(0,s.jsx)(o.A,{className:"h-4 w-4 text-slate-400"})]})},j=(e,a)=>[{id:"select",header:e=>{let{table:a}=e;return(0,s.jsx)(n.S,{className:"ml-1",checked:a.getIsAllPageRowsSelected()||a.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:e=>a.toggleAllPageRowsSelected(!!e),"aria-label":"Select all",onClick:e=>e.stopPropagation()})},cell:e=>{let{row:a}=e;return(0,s.jsx)(n.S,{className:"ml-1",checked:a.getIsSelected(),onCheckedChange:e=>a.toggleSelected(!!e),"aria-label":"Select row",onClick:e=>e.stopPropagation()})},enableSorting:!1,enableHiding:!1},{accessorKey:"description",header:()=>(0,s.jsx)(p,{columnId:"description",sortState:e.description||!1,onToggleSort:a,children:"Description"}),enableHiding:!0},{accessorKey:"amount",header:()=>(0,s.jsx)(p,{columnId:"amount",sortState:e.amount||!1,onToggleSort:a,children:"Amount"}),enableHiding:!0,cell:e=>{let{row:a}=e,t=a.getValue("amount");return(0,s.jsx)("span",{className:(e=>e>0?"text-emerald-600 dark:text-emerald-400 font-semibold":e<0?"text-rose-600 dark:text-rose-400 font-semibold":"text-slate-600 dark:text-slate-400")(t),children:new Intl.NumberFormat("en-AU",{style:"currency",currency:"AUD",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)})}},{accessorKey:"date",header:()=>(0,s.jsx)(p,{columnId:"date",sortState:e.date||!1,onToggleSort:a,children:"Date"}),enableHiding:!0,cell:e=>{let{row:a}=e;return(e=>{let a=new Date(e),t=a.getDate().toString().padStart(2,"0"),s=(a.getMonth()+1).toString().padStart(2,"0"),n=a.getFullYear().toString().slice(-2);return"".concat(t,"/").concat(s,"/").concat(n)})(a.getValue("date"))}},{accessorKey:"accountName",header:()=>(0,s.jsx)(p,{columnId:"accountName",sortState:e.accountName||!1,onToggleSort:a,children:"Account"}),enableHiding:!0},{accessorKey:"category.name",header:()=>(0,s.jsx)(p,{columnId:"category.name",sortState:e["category.name"]||!1,onToggleSort:a,children:"Category"}),enableHiding:!0},{accessorKey:"type",header:()=>(0,s.jsx)(p,{columnId:"type",sortState:e.type||!1,onToggleSort:a,children:"Type"}),enableHiding:!0,cell:e=>{let{row:a}=e,t=a.getValue("type");return t?(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ".concat((e=>{switch(e.toLowerCase()){case"income":return"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800";case"expense":return"bg-rose-100 text-rose-800 dark:bg-rose-900/30 dark:text-rose-400 border-rose-200 dark:border-rose-800";case"transfer":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400 border-blue-200 dark:border-blue-800";default:return"bg-slate-100 text-slate-800 dark:bg-slate-900/30 dark:text-slate-400 border-slate-200 dark:border-slate-800"}})(t)),children:t.charAt(0).toUpperCase()+t.slice(1)}):"Unknown"}},{id:"actions",enableHiding:!1,cell:e=>{let{row:a}=e,t=a.original;return(0,s.jsxs)(l.rI,{children:[(0,s.jsx)(l.ty,{asChild:!0,className:"cursor-pointer",children:(0,s.jsxs)(r.$,{variant:"ghost",className:"h-8 w-8 p-0","data-action":"button",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,s.jsx)(d.A,{className:"h-4 w-4"})]})}),(0,s.jsxs)(l.SQ,{align:"end",className:"space-y-1",children:[(0,s.jsxs)(l._2,{className:"cursor-pointer","data-action":"button",onClick:()=>null==x?void 0:x.onView(t),children:[(0,s.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"View details"]}),(0,s.jsxs)(l._2,{className:"cursor-pointer","data-action":"button",onClick:()=>null==x?void 0:x.onEdit(t),children:[(0,s.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,s.jsxs)(l._2,{className:"dark:bg-red-900/40 bg-red-600/20 text-red-500 font-medium dark:hover:bg-red-700/40 dark:hover:text-red-500 cursor-pointer hover:!bg-red-500/50 hover:!text-red-500 transition-all","data-action":"button",onClick:()=>null==x?void 0:x.onDelete(t),children:[(0,s.jsx)(h.A,{className:"mr-2 h-4 w-4 text-red-500"}),"Delete"]})]})]})}}]},33128:(e,a,t)=>{"use strict";t.d(a,{m:()=>r});var s=t(90013),n=t(44832);function r(){return(0,s.jsx)("footer",{className:"border-t bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,s.jsxs)("div",{className:"mx-auto flex flex-col items-center justify-between gap-4 py-6 md:h-10 !pt-5 md:flex-row md:py-0 max-w-7xl",children:[(0,s.jsx)("div",{className:"flex flex-col items-center gap-4 px-8 md:flex-row md:gap-2 md:px-0",children:(0,s.jsx)("p",{className:"text-center text-sm leading-loose text-muted-foreground md:text-left",children:"\xa9 2025 Finova. All rights reserved."})}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,s.jsx)("span",{children:"Made with"}),(0,s.jsx)(n.A,{className:"h-4 w-4 text-red-500",fill:"red"})]})]})})}},40805:(e,a,t)=>{"use strict";t.d(a,{UC:()=>R,VY:()=>P,ZD:()=>O,ZL:()=>F,bL:()=>I,hE:()=>H,hJ:()=>T,rc:()=>M});var s=t(54281),n=t(83019),r=t(97423),l=t(91041),c=t(10655),i=t(68641),o=t(90013),d="AlertDialog",[m,u]=(0,n.A)(d,[l.Hs]),h=(0,l.Hs)(),x=e=>{let{__scopeAlertDialog:a,...t}=e,s=h(a);return(0,o.jsx)(l.bL,{...s,...t,modal:!0})};x.displayName=d,s.forwardRef((e,a)=>{let{__scopeAlertDialog:t,...s}=e,n=h(t);return(0,o.jsx)(l.l9,{...n,...s,ref:a})}).displayName="AlertDialogTrigger";var g=e=>{let{__scopeAlertDialog:a,...t}=e,s=h(a);return(0,o.jsx)(l.ZL,{...s,...t})};g.displayName="AlertDialogPortal";var p=s.forwardRef((e,a)=>{let{__scopeAlertDialog:t,...s}=e,n=h(t);return(0,o.jsx)(l.hJ,{...n,...s,ref:a})});p.displayName="AlertDialogOverlay";var j="AlertDialogContent",[f,b]=m(j),y=(0,i.Dc)("AlertDialogContent"),v=s.forwardRef((e,a)=>{let{__scopeAlertDialog:t,children:n,...i}=e,d=h(t),m=s.useRef(null),u=(0,r.s)(a,m),x=s.useRef(null);return(0,o.jsx)(l.G$,{contentName:j,titleName:N,docsSlug:"alert-dialog",children:(0,o.jsx)(f,{scope:t,cancelRef:x,children:(0,o.jsxs)(l.UC,{role:"alertdialog",...d,...i,ref:u,onOpenAutoFocus:(0,c.mK)(i.onOpenAutoFocus,e=>{var a;e.preventDefault(),null==(a=x.current)||a.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,o.jsx)(y,{children:n}),(0,o.jsx)(E,{contentRef:m})]})})})});v.displayName=j;var N="AlertDialogTitle",w=s.forwardRef((e,a)=>{let{__scopeAlertDialog:t,...s}=e,n=h(t);return(0,o.jsx)(l.hE,{...n,...s,ref:a})});w.displayName=N;var k="AlertDialogDescription",C=s.forwardRef((e,a)=>{let{__scopeAlertDialog:t,...s}=e,n=h(t);return(0,o.jsx)(l.VY,{...n,...s,ref:a})});C.displayName=k;var S=s.forwardRef((e,a)=>{let{__scopeAlertDialog:t,...s}=e,n=h(t);return(0,o.jsx)(l.bm,{...n,...s,ref:a})});S.displayName="AlertDialogAction";var A="AlertDialogCancel",D=s.forwardRef((e,a)=>{let{__scopeAlertDialog:t,...s}=e,{cancelRef:n}=b(A,t),c=h(t),i=(0,r.s)(a,n);return(0,o.jsx)(l.bm,{...c,...s,ref:i})});D.displayName=A;var E=e=>{let{contentRef:a}=e,t="`".concat(j,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(j,"` by passing a `").concat(k,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(j,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return s.useEffect(()=>{var e;document.getElementById(null==(e=a.current)?void 0:e.getAttribute("aria-describedby"))||console.warn(t)},[t,a]),null},I=x,F=g,T=p,R=v,M=S,O=D,H=w,P=C},43526:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(71861).A)("coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]])},49118:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>ed});var s=t(90013),n=t(33128),r=t(91784),l=t(61488),c=t(93508),i=t(661),o=t(56804),d=t(78757),m=t(54281),u=t(95464),h=t(58180),x=t(35170),g=t(59930),p=t(16176),j=t(30363),f=t(9060),b=t(55050),y=t(71861);let v=(0,y.A)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var N=t(58810),w=t(28739);let k=(0,y.A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var C=t(70088),S=t(7413);let A=(0,S.createServerReference)("40e68a09e1ca6918867cc1fa1dfba8d325d7020e6a",S.callServer,void 0,S.findSourceMapURL,"createTransaction");var D=t(42831);function E(e){let{isOpen:a,onClose:t,onSuccess:n,accounts:c,categories:i}=e,[o,d]=(0,m.useState)(!1),[y,S]=(0,m.useState)({date:new Date().toISOString().split("T")[0],amount:"",type:"expense",category:"",description:"",merchant:"",accountId:"",isRecurring:!1,tags:[],notes:""}),[E,I]=(0,m.useState)({}),[F,T]=(0,m.useState)(""),R=()=>{S({date:new Date().toISOString().split("T")[0],amount:"",type:"expense",category:"",description:"",merchant:"",accountId:"",isRecurring:!1,tags:[],notes:""}),I({}),T(""),t()},M=async e=>{if(e.preventDefault(),(()=>{let e={};return y.amount&&0!==parseFloat(y.amount)||(e.amount="Amount is required and must be non-zero"),y.category||(e.category="Category is required"),y.description.trim()||(e.description="Description is required"),y.accountId||(e.accountId="Account is required"),y.date||(e.date="Date is required"),I(e),0===Object.keys(e).length})()){d(!0);try{let e=i.find(e=>e.id===y.category),a=c.find(e=>e.id===y.accountId);if(!e||!a)throw Error("Invalid category or account selection");let t={date:new Date(y.date),amount:parseFloat(y.amount),type:y.type,category:{id:e.id,name:e.name,icon:e.icon,color:"#3B82F6"},description:y.description.trim(),merchant:y.merchant.trim()||void 0,accountId:a.id,accountName:a.name,isRecurring:y.isRecurring,tags:y.tags,notes:y.notes.trim()||void 0};await A(t),(0,D.oR)({title:"Success",description:"Transaction created successfully"}),n(),R()}catch(e){console.error("Error creating transaction:",e),(0,D.oR)({title:"Error",description:e instanceof Error?e.message:"Failed to create transaction",variant:"destructive"})}finally{d(!1)}}},O=()=>{F.trim()&&!y.tags.includes(F.trim())&&(S(e=>({...e,tags:[...e.tags,F.trim()]})),T(""))};return(0,s.jsx)(u.lG,{open:a,onOpenChange:R,children:(0,s.jsxs)(u.Cf,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)(u.c7,{children:[(0,s.jsxs)(u.L3,{className:"flex items-center gap-2",children:[(0,s.jsx)(l.A,{className:"h-5 w-5"}),"Create New Transaction"]}),(0,s.jsx)(u.rr,{children:"Add a new financial transaction to track your income, expenses, or transfers."})]}),(0,s.jsxs)("form",{onSubmit:M,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x.J,{htmlFor:"amount",className:"flex items-center gap-2",children:[(0,s.jsx)(f.A,{className:"h-4 w-4"}),"Amount *"]}),(0,s.jsx)(h.p,{id:"amount",type:"number",step:"0.01",placeholder:"0.00",value:y.amount,onChange:e=>S(a=>({...a,amount:e.target.value})),className:E.amount?"border-red-500":""}),E.amount&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:E.amount})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x.J,{htmlFor:"type",children:"Type *"}),(0,s.jsxs)(p.l6,{value:y.type,onValueChange:e=>S(a=>({...a,type:e})),children:[(0,s.jsx)(p.bq,{children:(0,s.jsx)(p.yv,{})}),(0,s.jsxs)(p.gC,{children:[(0,s.jsx)(p.eb,{value:"expense",children:"Expense"}),(0,s.jsx)(p.eb,{value:"income",children:"Income"}),(0,s.jsx)(p.eb,{value:"transfer",children:"Transfer"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x.J,{htmlFor:"date",className:"flex items-center gap-2",children:[(0,s.jsx)(b.A,{className:"h-4 w-4"}),"Date *"]}),(0,s.jsx)(h.p,{id:"date",type:"date",value:y.date,onChange:e=>S(a=>({...a,date:e.target.value})),className:E.date?"border-red-500":""}),E.date&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:E.date})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x.J,{htmlFor:"category",className:"flex items-center gap-2",children:[(0,s.jsx)(v,{className:"h-4 w-4"}),"Category *"]}),(0,s.jsxs)(p.l6,{value:y.category,onValueChange:e=>S(a=>({...a,category:e})),children:[(0,s.jsx)(p.bq,{className:E.category?"border-red-500":"",children:(0,s.jsx)(p.yv,{placeholder:"Select category"})}),(0,s.jsx)(p.gC,{children:i.map(e=>(0,s.jsx)(p.eb,{value:e.id,children:e.name},e.id))})]}),E.category&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:E.category})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x.J,{htmlFor:"account",className:"flex items-center gap-2",children:[(0,s.jsx)(N.A,{className:"h-4 w-4"}),"Account *"]}),(0,s.jsxs)(p.l6,{value:y.accountId,onValueChange:e=>S(a=>({...a,accountId:e})),children:[(0,s.jsx)(p.bq,{className:E.accountId?"border-red-500":"",children:(0,s.jsx)(p.yv,{placeholder:"Select account"})}),(0,s.jsx)(p.gC,{children:c.map(e=>(0,s.jsx)(p.eb,{value:e.id,children:e.name},e.id))})]}),E.accountId&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:E.accountId})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x.J,{htmlFor:"merchant",className:"flex items-center gap-2",children:[(0,s.jsx)(w.A,{className:"h-4 w-4"}),"Merchant"]}),(0,s.jsx)(h.p,{id:"merchant",placeholder:"Store, business, or person",value:y.merchant,onChange:e=>S(a=>({...a,merchant:e.target.value}))})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x.J,{htmlFor:"description",className:"flex items-center gap-2",children:[(0,s.jsx)(k,{className:"h-4 w-4"}),"Description *"]}),(0,s.jsx)(h.p,{id:"description",placeholder:"What was this transaction for?",value:y.description,onChange:e=>S(a=>({...a,description:e.target.value})),className:E.description?"border-red-500":""}),E.description&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:E.description})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x.J,{htmlFor:"tags",className:"flex items-center gap-2",children:[(0,s.jsx)(v,{className:"h-4 w-4"}),"Tags"]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(h.p,{id:"tags",placeholder:"Add a tag and press Enter",value:F,onChange:e=>T(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),O())}}),(0,s.jsx)(r.$,{type:"button",variant:"outline",onClick:O,children:"Add"})]}),y.tags.length>0&&(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:y.tags.map(e=>(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[e,(0,s.jsx)("button",{type:"button",onClick:()=>{S(a=>({...a,tags:a.tags.filter(a=>a!==e)}))},className:"hover:bg-blue-200 rounded-full p-0.5",children:(0,s.jsx)(C.A,{className:"h-3 w-3"})})]},e))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x.J,{htmlFor:"notes",children:"Notes"}),(0,s.jsx)(g.T,{id:"notes",placeholder:"Additional notes about this transaction",value:y.notes,onChange:e=>S(a=>({...a,notes:e.target.value})),rows:3})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(j.S,{id:"recurring",checked:y.isRecurring,onCheckedChange:e=>S(a=>({...a,isRecurring:e}))}),(0,s.jsx)(x.J,{htmlFor:"recurring",children:"This is a recurring transaction"})]}),(0,s.jsxs)(u.Es,{children:[(0,s.jsx)(r.$,{type:"button",variant:"outline",onClick:R,children:"Cancel"}),(0,s.jsx)(r.$,{type:"submit",disabled:o,children:o?"Creating...":"Create Transaction"})]})]})]})})}var I=t(16055);let F=e=>new Intl.NumberFormat("en-AU",{style:"currency",currency:"AUD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e);function T(e){let{transaction:a,isOpen:t,onClose:n}=e;if(!a)return null;let r=[{key:"amount",label:"Amount",icon:f.A,value:F(a.amount),customValue:(0,s.jsx)("span",{className:"text-lg font-bold ".concat(a.amount>=0?"text-green-600":"text-red-600"),children:F(a.amount)}),show:!0},{key:"description",label:"Description",icon:k,value:a.description,show:!0},{key:"date",label:"Date",icon:b.A,value:(e=>{let a=new Date(e),t=a.getDate().toString().padStart(2,"0"),s=(a.getMonth()+1).toString().padStart(2,"0"),n=a.getFullYear().toString().slice(-2);return"".concat(t,"/").concat(s,"/").concat(n)})(a.date),show:!0},{key:"account",label:"Account",icon:N.A,value:a.accountName,show:!0},{key:"category",label:"Category",icon:v,value:a.category.name,show:!0}];return(0,s.jsx)(I.Lt,{open:t,onOpenChange:n,children:(0,s.jsxs)(I.EO,{className:"max-w-md",children:[(0,s.jsx)(I.wd,{className:"flex flex-col gap-1",children:(0,s.jsx)(I.r7,{children:"Transaction Details"})}),(0,s.jsx)("div",{className:"space-y-4 py-2",children:r.filter(e=>e.show).map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800/50 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"bg-slate-500/10 rounded-md p-2",children:(0,s.jsx)(e.icon,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"})}),(0,s.jsx)("span",{className:"font-medium",children:e.label})]}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:e.customValue||(0,s.jsx)("span",{className:"font-medium",children:e.value})})]},e.key))}),(0,s.jsx)(I.ck,{children:(0,s.jsx)(I.Zr,{onClick:n,className:"cursor-pointer bg-sky-500 text-white hover:text-white hover:bg-sky-600 transition-all",children:"Close"})})]})})}let R=(0,y.A)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),M=(0,S.createServerReference)("40d818aa934e444f4b13fb4b8f5e804c8767446350",S.callServer,void 0,S.findSourceMapURL,"updateTransaction");function O(e){let{transaction:a,isOpen:t,onClose:n,onSuccess:l,accounts:c,categories:i}=e,[o,d]=(0,m.useState)(!1),[y,S]=(0,m.useState)({date:"",amount:"",type:"expense",category:"",description:"",merchant:"",accountId:"",isRecurring:!1,tags:[],notes:""}),[A,E]=(0,m.useState)({}),[I,F]=(0,m.useState)("");(0,m.useEffect)(()=>{a&&(S({date:new Date(a.date).toISOString().split("T")[0],amount:a.amount.toString(),type:a.type,category:a.category.id,description:a.description,merchant:a.merchant||"",accountId:a.accountId,isRecurring:a.isRecurring,tags:a.tags||[],notes:a.notes||""}),E({}),F(""))},[a]);let T=()=>{a&&S({date:new Date(a.date).toISOString().split("T")[0],amount:a.amount.toString(),type:a.type,category:a.category.id,description:a.description,merchant:a.merchant||"",accountId:a.accountId,isRecurring:a.isRecurring,tags:a.tags||[],notes:a.notes||""}),E({}),F(""),n()},O=async e=>{if(e.preventDefault(),a&&(()=>{let e={};return y.amount&&0!==parseFloat(y.amount)||(e.amount="Amount is required and must be non-zero"),y.category||(e.category="Category is required"),y.description.trim()||(e.description="Description is required"),y.accountId||(e.accountId="Account is required"),y.date||(e.date="Date is required"),E(e),0===Object.keys(e).length})()){d(!0);try{let e=i.find(e=>e.id===y.category),t=c.find(e=>e.id===y.accountId);if(!e||!t)throw Error("Invalid category or account selection");let s={id:a.id,date:new Date(y.date),amount:parseFloat(y.amount),type:y.type,category:{id:e.id,name:e.name,icon:e.icon,color:a.category.color||"#3B82F6"},description:y.description.trim(),merchant:y.merchant.trim()||void 0,accountId:t.id,accountName:t.name,isRecurring:y.isRecurring,tags:y.tags,notes:y.notes.trim()||void 0};await M(s),(0,D.oR)({title:"Success",description:"Transaction updated successfully"}),l(),T()}catch(e){console.error("Error updating transaction:",e),(0,D.oR)({title:"Error",description:e instanceof Error?e.message:"Failed to update transaction",variant:"destructive"})}finally{d(!1)}}},H=()=>{I.trim()&&!y.tags.includes(I.trim())&&(S(e=>({...e,tags:[...e.tags,I.trim()]})),F(""))};return a?(0,s.jsx)(u.lG,{open:t,onOpenChange:T,children:(0,s.jsxs)(u.Cf,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)(u.c7,{children:[(0,s.jsxs)(u.L3,{className:"flex items-center gap-2",children:[(0,s.jsx)(R,{className:"h-5 w-5"}),"Edit Transaction"]}),(0,s.jsx)(u.rr,{children:"Update the details of your financial transaction."})]}),(0,s.jsxs)("form",{onSubmit:O,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x.J,{htmlFor:"amount",className:"flex items-center gap-2",children:[(0,s.jsx)(f.A,{className:"h-4 w-4"}),"Amount *"]}),(0,s.jsx)(h.p,{id:"amount",type:"number",step:"0.01",placeholder:"0.00",value:y.amount,onChange:e=>S(a=>({...a,amount:e.target.value})),className:A.amount?"border-red-500":""}),A.amount&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:A.amount})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x.J,{htmlFor:"type",children:"Type *"}),(0,s.jsxs)(p.l6,{value:y.type,onValueChange:e=>S(a=>({...a,type:e})),children:[(0,s.jsx)(p.bq,{children:(0,s.jsx)(p.yv,{})}),(0,s.jsxs)(p.gC,{children:[(0,s.jsx)(p.eb,{value:"expense",children:"Expense"}),(0,s.jsx)(p.eb,{value:"income",children:"Income"}),(0,s.jsx)(p.eb,{value:"transfer",children:"Transfer"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x.J,{htmlFor:"date",className:"flex items-center gap-2",children:[(0,s.jsx)(b.A,{className:"h-4 w-4"}),"Date *"]}),(0,s.jsx)(h.p,{id:"date",type:"date",value:y.date,onChange:e=>S(a=>({...a,date:e.target.value})),className:A.date?"border-red-500":""}),A.date&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:A.date})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x.J,{htmlFor:"category",className:"flex items-center gap-2",children:[(0,s.jsx)(v,{className:"h-4 w-4"}),"Category *"]}),(0,s.jsxs)(p.l6,{value:y.category,onValueChange:e=>S(a=>({...a,category:e})),children:[(0,s.jsx)(p.bq,{className:A.category?"border-red-500":"",children:(0,s.jsx)(p.yv,{placeholder:"Select category"})}),(0,s.jsx)(p.gC,{children:i.map(e=>(0,s.jsx)(p.eb,{value:e.id,children:e.name},e.id))})]}),A.category&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:A.category})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x.J,{htmlFor:"account",className:"flex items-center gap-2",children:[(0,s.jsx)(N.A,{className:"h-4 w-4"}),"Account *"]}),(0,s.jsxs)(p.l6,{value:y.accountId,onValueChange:e=>S(a=>({...a,accountId:e})),children:[(0,s.jsx)(p.bq,{className:A.accountId?"border-red-500":"",children:(0,s.jsx)(p.yv,{placeholder:"Select account"})}),(0,s.jsx)(p.gC,{children:c.map(e=>(0,s.jsx)(p.eb,{value:e.id,children:e.name},e.id))})]}),A.accountId&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:A.accountId})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x.J,{htmlFor:"merchant",className:"flex items-center gap-2",children:[(0,s.jsx)(w.A,{className:"h-4 w-4"}),"Merchant"]}),(0,s.jsx)(h.p,{id:"merchant",placeholder:"Store, business, or person",value:y.merchant,onChange:e=>S(a=>({...a,merchant:e.target.value}))})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x.J,{htmlFor:"description",className:"flex items-center gap-2",children:[(0,s.jsx)(k,{className:"h-4 w-4"}),"Description *"]}),(0,s.jsx)(h.p,{id:"description",placeholder:"What was this transaction for?",value:y.description,onChange:e=>S(a=>({...a,description:e.target.value})),className:A.description?"border-red-500":""}),A.description&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:A.description})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(x.J,{htmlFor:"tags",className:"flex items-center gap-2",children:[(0,s.jsx)(v,{className:"h-4 w-4"}),"Tags"]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(h.p,{id:"tags",placeholder:"Add a tag and press Enter",value:I,onChange:e=>F(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),H())}}),(0,s.jsx)(r.$,{type:"button",variant:"outline",onClick:H,children:"Add"})]}),y.tags.length>0&&(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:y.tags.map(e=>(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[e,(0,s.jsx)("button",{type:"button",onClick:()=>{S(a=>({...a,tags:a.tags.filter(a=>a!==e)}))},className:"hover:bg-blue-200 rounded-full p-0.5",children:(0,s.jsx)(C.A,{className:"h-3 w-3"})})]},e))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x.J,{htmlFor:"notes",children:"Notes"}),(0,s.jsx)(g.T,{id:"notes",placeholder:"Additional notes about this transaction",value:y.notes,onChange:e=>S(a=>({...a,notes:e.target.value})),rows:3})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(j.S,{id:"recurring",checked:y.isRecurring,onCheckedChange:e=>S(a=>({...a,isRecurring:e}))}),(0,s.jsx)(x.J,{htmlFor:"recurring",children:"This is a recurring transaction"})]}),(0,s.jsxs)(u.Es,{children:[(0,s.jsx)(r.$,{type:"button",variant:"outline",onClick:T,children:"Cancel"}),(0,s.jsx)(r.$,{type:"submit",disabled:o,children:o?"Updating...":"Update Transaction"})]})]})]})}):null}var H=t(9923);let P=(0,S.createServerReference)("406facb51ee97ffd0068fde332cabb073aa4cca2e1",S.callServer,void 0,S.findSourceMapURL,"deleteTransaction");function U(e){let a,{transaction:t,isOpen:n,onClose:r,onSuccess:l}=e,[c,i]=(0,m.useState)(!1);if(!t)return null;let o=async()=>{if(t){i(!0);try{await P(t.id),(0,D.oR)({title:"Success",description:"Transaction deleted successfully"}),l(),r()}catch(e){console.error("Error deleting transaction:",e),(0,D.oR)({title:"Error",description:e instanceof Error?e.message:"Failed to delete transaction",variant:"destructive"})}finally{i(!1)}}},u=[{icon:f.A,label:"Amount",value:(0,s.jsx)("span",{className:"text-lg font-bold ".concat(t.amount>=0?"text-green-600":"text-red-600 dark:text-red-500"),children:(a=t.amount,new Intl.NumberFormat("en-AU",{style:"currency",currency:"AUD",minimumFractionDigits:2,maximumFractionDigits:2}).format(a))})},{icon:k,label:"Description",value:(0,s.jsx)("span",{className:"font-medium",children:t.description})},{icon:b.A,label:"Date",value:(0,s.jsx)("span",{className:"font-medium",children:(e=>{let a=new Date(e),t=a.getDate().toString().padStart(2,"0"),s=(a.getMonth()+1).toString().padStart(2,"0"),n=a.getFullYear().toString().slice(-2);return"".concat(t,"/").concat(s,"/").concat(n)})(t.date)})},{icon:N.A,label:"Account",value:(0,s.jsx)("span",{className:"font-medium",children:t.accountName})},{icon:v,label:"Category",value:(0,s.jsx)("span",{className:"font-medium",children:t.category.name})}];return(0,s.jsx)(I.Lt,{open:n,onOpenChange:r,children:(0,s.jsxs)(I.EO,{className:"max-w-md",children:[(0,s.jsxs)(I.wd,{className:"flex flex-col gap-1",children:[(0,s.jsxs)(I.r7,{className:"flex items-center gap-2 text-red-600 dark:text-red-500",children:[(0,s.jsx)(d.A,{className:"h-5 w-5"}),"Delete Transaction"]}),(0,s.jsx)(I.$v,{children:"Are you sure you want to delete this transaction?"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg",children:[(0,s.jsx)(H.A,{className:"h-4 w-4 text-red-600"}),(0,s.jsx)("span",{className:"text-sm text-red-700 dark:text-red-300 font-medium",children:"This action will permanently remove the transaction."})]}),(0,s.jsxs)("div",{className:"space-y-3 py-2",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:"Transaction to be deleted:"}),u.map((e,a)=>{let t=e.icon;return(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800/50 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"bg-slate-500/10 rounded-md p-2",children:(0,s.jsx)(t,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"})}),(0,s.jsx)("span",{className:"font-medium",children:e.label})]}),e.value]},a)})]}),(0,s.jsxs)(I.ck,{children:[(0,s.jsx)(I.Zr,{onClick:r,className:"cursor-pointer",children:"Cancel"}),(0,s.jsxs)(I.Rx,{className:"bg-red-600 hover:bg-red-700 dark:bg-red-500 dark:hover:bg-red-600 cursor-pointer dark:text-white",onClick:o,disabled:c,children:[(0,s.jsx)(d.A,{className:"mr-2 h-4 w-4"}),c?"Deleting...":"Delete Transaction"]})]})]})})}var L=t(94879),V=t(84369),B=t(19901),z=t(43526);let G=(0,y.A)("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);var q=t(23228),J=t(67644),$=t(22914),K=t(10983),Z=t(10213),_=t(63985);function W(e){var a,t,n,l,c,i,o,d;let{accounts:u,categories:x,table:g,isLoading:p=!1}=e,j=(0,K.useSearchParams)(),f=(0,K.useRouter)(),b=(0,K.usePathname)(),[y,w]=(0,m.useState)(!1),k=j.get("description")||"",S=j.get("dateFrom"),A=j.get("dateTo"),D=j.get("account")||"all",E=j.get("category")||"all",I=j.get("type")||"all",[F,T]=(0,m.useState)(k),R=S&&A?{from:new Date(S),to:new Date(A)}:void 0,M=k||R||"all"!==D||"all"!==E||"all"!==I,O=(0,m.useCallback)(e=>{let a=setTimeout(()=>{let a=new URLSearchParams(j);e?a.set("description",e):a.delete("description"),f.push("".concat(b,"?").concat(a.toString()))},800);return()=>clearTimeout(a)},[j,f,b]);(0,m.useEffect)(()=>{T(k)},[k]);let H=e=>{let a=new URLSearchParams(j);Object.entries(e).forEach(e=>{let[t,s]=e;null===s?a.delete(t):a.set(t,s)}),f.push("".concat(b,"?").concat(a.toString()))},P=e=>{switch(e){case"checking":case"credit":return(0,s.jsx)(N.A,{className:"h-4 w-4"});case"savings":return(0,s.jsx)(V.A,{className:"h-4 w-4"});case"investment":return(0,s.jsx)(B.A,{className:"h-4 w-4"});case"cash":return(0,s.jsx)(z.A,{className:"h-4 w-4"});default:return(0,s.jsx)(G,{className:"h-4 w-4"})}};return!p&&u&&x?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(q.A,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(h.p,{placeholder:"Search transactions by description...",value:F,onChange:e=>{var a;T(a=e.target.value),O(a)},className:"pl-10"})]}),(0,s.jsxs)(r.$,{variant:"outline",size:"sm",onClick:()=>w(!y),className:"flex items-center space-x-2 ".concat(y||M?"bg-gradient-to-r from-sky-500 via-sky-500 to-sky-600 text-white border-sky-600 hover:from-sky-600 hover:via-sky-600 hover:to-sky-700 hover:border-sky-700 hover:text-white":""),children:[(0,s.jsx)(J.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Filters"}),M&&(0,s.jsx)("span",{className:"ml-1 h-2 w-2 rounded-full bg-white"})]}),g&&(0,s.jsxs)(Z.rI,{children:[(0,s.jsx)(Z.ty,{asChild:!0,children:(0,s.jsxs)(r.$,{variant:"outline",size:"sm",className:"cursor-pointer shadow-sm",children:["Columns ",(0,s.jsx)($.A,{className:"ml-2 h-4 w-4"})]})}),(0,s.jsx)(Z.SQ,{align:"end",children:g.getAllColumns().filter(e=>e.getCanHide()).map(e=>(0,s.jsx)(Z.hO,{className:"capitalize cursor-pointer",checked:e.getIsVisible(),onCheckedChange:a=>e.toggleVisibility(!!a),children:e.id},e.id))})]}),M&&(0,s.jsx)(r.$,{variant:"ghost",size:"sm",onClick:()=>{f.push(b)},className:"text-muted-foreground hover:text-foreground",children:(0,s.jsx)(C.A,{className:"h-4 w-4"})})]}),y&&(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4 bg-muted/50 rounded-lg border",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Date Range"}),(0,s.jsx)(L.U,{value:R,onChange:e=>{e?H({dateFrom:e.from.toISOString().split("T")[0],dateTo:e.to.toISOString().split("T")[0]}):H({dateFrom:null,dateTo:null})},placeholder:"Select date range",name:"date",className:"shadow-sm cursor-pointer"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Account"}),(0,s.jsxs)(Z.rI,{children:[(0,s.jsx)(Z.ty,{asChild:!0,children:(0,s.jsxs)(r.$,{variant:"outline",className:"w-full justify-between shadow-sm cursor-pointer",children:[(0,s.jsx)("div",{className:"flex items-center gap-2",children:"all"!==D?(0,s.jsxs)(s.Fragment,{children:[P((null==(a=u.find(e=>e.id===D))?void 0:a.type)||"checking"),(0,s.jsx)("span",{children:(null==(t=u.find(e=>e.id===D))?void 0:t.name)||"All Accounts"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(G,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"All Accounts"})]})}),(0,s.jsx)($.A,{className:"h-4 w-4"})]})}),(0,s.jsxs)(Z.SQ,{className:"w-full min-w-[200px]",children:[(0,s.jsx)(Z.hO,{checked:"all"===D,onCheckedChange:()=>H({account:null}),className:"flex items-center gap-2 cursor-pointer",children:"All Accounts"}),u.map(e=>(0,s.jsx)(Z.hO,{checked:D===e.id,onCheckedChange:()=>H({account:e.id}),className:"flex items-center gap-2 cursor-pointer",children:e.name},e.id))]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Category"}),(0,s.jsxs)(Z.rI,{children:[(0,s.jsx)(Z.ty,{asChild:!0,children:(0,s.jsxs)(r.$,{variant:"outline",className:"w-full justify-between shadow-sm cursor-pointer",children:[(0,s.jsx)("div",{className:"flex items-center gap-2 cursor-pointer",children:"all"!==E?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-lg",children:null==(n=x.find(e=>e.id===E))?void 0:n.icon}),(0,s.jsx)("span",{children:(null==(l=x.find(e=>e.id===E))?void 0:l.name)||"All Categories"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"All Categories"})]})}),(0,s.jsx)($.A,{className:"h-4 w-4"})]})}),(0,s.jsxs)(Z.SQ,{className:"w-full min-w-[200px]",children:[(0,s.jsx)(Z.hO,{checked:"all"===E,onCheckedChange:()=>H({category:null}),className:"flex items-center gap-2 cursor-pointer",children:"All Categories"}),x.map(e=>(0,s.jsx)(Z.hO,{checked:E===e.id,onCheckedChange:()=>H({category:e.id}),className:"flex items-center gap-2 cursor-pointer",children:e.name},e.id))]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Transaction Type"}),(0,s.jsxs)("div",{className:"flex gap-2 mt-0.5",children:[(0,s.jsx)(r.$,{type:"button",variant:"outline",size:"sm",onClick:()=>H({type:null}),className:"transaction-type-button cursor-pointer ".concat(I&&"all"!==I?"hover:bg-sky-50 dark:hover:bg-sky-950 shadow-sm":"bg-sky-500 text-white border-sky-500 hover:bg-sky-600 hover:border-sky-600 hover:text-white !shadow-sm"),children:"All"}),(0,s.jsx)(r.$,{type:"button",variant:"outline",size:"sm",onClick:()=>H({type:"income"}),className:"transaction-type-button cursor-pointer ".concat("income"===I?"bg-sky-500 text-white border-sky-500 hover:bg-sky-600 hover:border-sky-600 hover:text-white !shadow-sm":"hover:bg-sky-50 dark:hover:bg-sky-950 shadow-sm"),children:"Income"}),(0,s.jsx)(r.$,{type:"button",variant:"outline",size:"sm",onClick:()=>H({type:"expense"}),className:"transaction-type-button cursor-pointer ".concat("expense"===I?"bg-sky-500 text-white border-sky-500 hover:bg-sky-600 hover:border-sky-600 hover:text-white !shadow-sm":"hover:bg-sky-50 dark:hover:bg-sky-950 shadow-sm"),children:"Expense"})]})]})]}),M&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-sm",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Active filters:"}),k&&(0,s.jsxs)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400 rounded-full",children:["Description: ",k]}),R&&(0,s.jsxs)("span",{className:"px-2 py-1 bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400 rounded-full",children:["Date: ",R.from.toLocaleDateString()," -"," ",R.to.toLocaleDateString()]}),"all"!==D&&(0,s.jsxs)("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400 rounded-full",children:[P((null==(c=u.find(e=>e.id===D))?void 0:c.type)||"checking"),"Account: ",null==(i=u.find(e=>e.id===D))?void 0:i.name]}),"all"!==E&&(0,s.jsxs)("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400 rounded-full",children:[(0,s.jsx)("span",{className:"text-sm",children:null==(o=x.find(e=>e.id===E))?void 0:o.icon}),"Category:"," ",null==(d=x.find(e=>e.id===E))?void 0:d.name]}),"all"!==I&&(0,s.jsxs)("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-400 rounded-full",children:["Type: ","income"===I?"Income":"Expense"]})]})]}):(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"relative flex-1",children:(0,s.jsx)(_.E,{className:"h-10 w-full"})}),(0,s.jsx)(_.E,{className:"h-10 w-20"}),(0,s.jsx)(_.E,{className:"h-10 w-10"})]})})}function Y(){return(0,s.jsxs)("div",{className:"flex items-end justify-between",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(_.E,{className:"h-9 w-40"})," ",(0,s.jsx)(_.E,{className:"h-5 w-80"})," "]}),(0,s.jsx)(_.E,{className:"h-10 w-36"})," "]})}function Q(){return(0,s.jsxs)("div",{className:"space-y-4 p-4 bg-white dark:bg-neutral-900 rounded-lg border border-border shadow-sm",children:[(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(_.E,{className:"h-5 w-5"})," ",(0,s.jsx)(_.E,{className:"h-6 w-20"})," "]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(_.E,{className:"h-4 w-24"})," ",(0,s.jsx)(_.E,{className:"h-9 w-full"})," "]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(_.E,{className:"h-4 w-20"})," ",(0,s.jsx)(_.E,{className:"h-9 w-full"})," "]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(_.E,{className:"h-4 w-16"})," ",(0,s.jsx)(_.E,{className:"h-9 w-full"})," "]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(_.E,{className:"h-4 w-20"})," ",(0,s.jsx)(_.E,{className:"h-9 w-full"})," "]})]}),(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsxs)("div",{className:"flex items-end justify-between",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(_.E,{className:"h-4 w-32"})," ",(0,s.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,s.jsx)(_.E,{className:"h-8 w-16"})," ",(0,s.jsx)(_.E,{className:"h-8 w-20"})," ",(0,s.jsx)(_.E,{className:"h-8 w-20"})," "]})]}),(0,s.jsxs)("div",{className:"space-y-2 flex flex-col items-end",children:[(0,s.jsx)(_.E,{className:"h-4 w-24"})," ",(0,s.jsx)(_.E,{className:"h-8 w-24"})," "]})]})})]})}function X(e){let{rowCount:a=10,isMobile:t=!1}=e;return(0,s.jsx)("div",{className:"overflow-hidden rounded-md border w-full bg-neutral-50 dark:bg-neutral-900 shadow-sm",children:(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)("div",{className:"text-semibold !bg-white dark:!bg-neutral-950 rounded-t-lg border-b",children:(0,s.jsxs)("div",{className:"flex items-center h-12 px-4",children:[(0,s.jsx)(_.E,{className:"h-4 w-4 mr-2"})," ",(0,s.jsx)(_.E,{className:"h-4 w-20 mr-4"})," ",(0,s.jsx)(_.E,{className:"h-4 w-16 mr-4"})," ",(0,s.jsx)(_.E,{className:"h-4 w-16 mr-4"})," ",!t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(_.E,{className:"h-4 w-16 mr-4"})," ",(0,s.jsx)(_.E,{className:"h-4 w-16 mr-4"})," ",(0,s.jsx)(_.E,{className:"h-4 w-16 mr-4"})," "]}),(0,s.jsx)(_.E,{className:"h-4 w-16 ml-auto"})," "]})}),(0,s.jsx)("div",{className:"bg-white dark:bg-neutral-950",children:Array.from({length:a}).map((e,a)=>(0,s.jsxs)("div",{className:"flex items-center px-4 border-b border-border last:border-b-0 ".concat(t?"h-12":"h-14"),children:[(0,s.jsx)(_.E,{className:"h-4 w-4 mr-2"})," ",(0,s.jsx)(_.E,{className:"h-4 w-24 mr-4"})," ",(0,s.jsx)(_.E,{className:"h-4 w-20 mr-4"})," ",(0,s.jsx)(_.E,{className:"h-4 w-20 mr-4"})," ",!t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(_.E,{className:"h-4 w-20 mr-4"})," ",(0,s.jsx)(_.E,{className:"h-4 w-20 mr-4"})," ",(0,s.jsx)(_.E,{className:"h-4 w-16 mr-4"})," "]}),(0,s.jsx)(_.E,{className:"h-8 w-16 ml-auto"})," "]},a))})]})})}function ee(){return(0,s.jsxs)("div",{className:"flex items-center justify-between space-x-2 py-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(_.E,{className:"h-4 w-48"})," "]}),(0,s.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,s.jsx)(_.E,{className:"h-4 w-32"})," ",(0,s.jsxs)("div",{className:"space-x-2",children:[(0,s.jsx)(_.E,{className:"h-8 w-20"})," ",(0,s.jsx)(_.E,{className:"h-8 w-16"})," "]})]})]})}var ea=t(63715);function et(){let e=(0,ea.a)();return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(Y,{}),(0,s.jsx)(Q,{}),(0,s.jsx)(X,{rowCount:8,isMobile:e}),(0,s.jsx)(ee,{})]})}var es=t(31867),en=t(59496);function er(e){var a;let{columns:t,data:n,isLoading:l=!1,sortStates:u}=e,[h,x]=(0,m.useState)(1),[g,p]=(0,m.useState)({}),[j,f]=(0,m.useState)({}),[b,y]=(0,m.useState)([]),[v,N]=(0,m.useState)(null),[w,k]=(0,m.useState)(!1),[C,S]=(0,m.useState)(!1),[A,D]=(0,m.useState)(!1),E=(0,K.useSearchParams)(),I=(0,ea.a)(),F=E.get("description")||"",R=E.get("dateFrom"),M=E.get("dateTo"),H=E.get("account")||"all",P=E.get("category")||"all",L=E.get("type")||"all",V=(0,en.oU)("expenses").map((e,a)=>({...e,id:"cat-".concat(a+1)})),B=[{id:"chase-checking",name:"Chase Checking",type:"checking",balance:0,currency:"USD",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"chase-savings",name:"Chase Savings",type:"savings",balance:0,currency:"USD",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"chase-credit",name:"Chase Credit Card",type:"credit",balance:0,currency:"USD",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}];(0,m.useEffect)(()=>{I?p({select:!0,description:!0,amount:!0,date:!0,accountName:!1,"category.name":!1,type:!1,actions:!0}):p({select:!0,description:!0,amount:!0,date:!0,accountName:!0,"category.name":!0,type:!0,actions:!0})},[I]);let z=e=>{N(e),k(!0)},G=e=>{N(e),S(!0)},q=e=>{N(e),D(!0)};(0,m.useEffect)(()=>{(0,es.setGlobalActionHandlers)({onView:z,onEdit:G,onDelete:q})},[]);let J=(0,m.useMemo)(()=>{let e=n;if(F&&(e=e.filter(e=>e.description.toLowerCase().includes(F.toLowerCase()))),R&&M){let a=new Date(R),t=new Date(M);e=e.filter(e=>{let s=new Date(e.date);return s>=a&&s<=t})}if("all"!==H&&(e=e.filter(e=>e.accountId===H)),"all"!==P&&(e=e.filter(e=>e.category.id===P)),"all"!==L&&(e=e.filter(e=>"income"===L?e.amount>0:e.amount<0)),u){let a=Object.entries(u).find(e=>{let[,a]=e;return!1!==a});if(a){let[t,s]=a;e=[...e].sort((e,a)=>{let n=e[t],r=a[t];return("accountName"===t?(n=e.accountName||"",r=a.accountName||""):"category.name"===t&&(n=e.category.name||"",r=a.category.name||""),"date"===t&&(n=new Date(n).getTime(),r=new Date(r).getTime()),"amount"===t&&(n=Number(n),r=Number(r)),"string"==typeof n&&(n=n.toLowerCase(),r=r.toLowerCase()),"asc"===s)?n<r?-1:+(n>r):n>r?-1:+(n<r)})}}return e},[n,F,R,M,H,P,L,u]),$=Math.ceil(J.length/20);(0,m.useEffect)(()=>{h>$&&$>0&&x(1)},[$,h]);let Z=(0,i.N4)({data:J,columns:t,getCoreRowModel:(0,o.HT)(),getPaginationRowModel:(0,o.kW)(),getFilteredRowModel:(0,o.hM)(),onColumnVisibilityChange:p,onRowSelectionChange:f,onColumnFiltersChange:e=>{y(e),x(1)},state:{pagination:{pageIndex:h-1,pageSize:20},columnVisibility:g,rowSelection:j,columnFilters:b},initialState:{columnVisibility:g},onPaginationChange:e=>{"function"==typeof e&&x(e({pageIndex:h-1,pageSize:20}).pageIndex+1)}});if(l)return(0,s.jsx)(X,{rowCount:8,isMobile:I});let _=Z.getFilteredSelectedRowModel().rows.length,Y=e=>{x(e),Z.setPageIndex(e-1)};return(0,s.jsxs)("div",{className:"w-full space-y-4",children:[(0,s.jsx)(W,{accounts:B,categories:V,table:Z,isLoading:l}),_>0&&(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg",children:[(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsxs)("span",{className:"text-sm font-medium text-red-700 dark:text-red-300",children:[_," transaction",1===_?"":"s"," ","selected:"]})}),(0,s.jsxs)(r.$,{variant:"destructive",size:"sm",onClick:()=>{let e=Z.getFilteredSelectedRowModel().rows.map(e=>e.original);if(0===e.length)return;let a=1===e.length?'Are you sure you want to delete the transaction "'.concat(e[0].description,'"?'):"Are you sure you want to delete ".concat(e.length," selected transactions?");window.confirm(a)&&(console.log("Deleting transactions:",e),f({}))},className:"bg-red-600 hover:bg-red-700 dark:bg-red-600 dark:hover:bg-red-700",children:[(0,s.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Delete"]})]}),(0,s.jsx)("div",{className:"overflow-hidden rounded-md border w-full bg-neutral-50 dark:bg-neutral-900 shadow-sm",children:(0,s.jsxs)(c.XI,{className:"w-full ".concat(I?"text-sm":""),children:[(0,s.jsx)(c.A0,{className:"text-semibold !bg-white hover:!bg-white dark:!bg-neutral-950 dark:hover:!bg-neutral-950 rounded-t-lg",children:Z.getHeaderGroups().map(e=>(0,s.jsx)(c.Hj,{className:"hover:!bg-white dark:hover:!bg-neutral-950",children:e.headers.map(e=>(0,s.jsx)(c.nd,{className:"ml-0 ".concat("select"===e.id?"pl-2":"pl-0"," ").concat(I?"py-1 px-2 text-sm":"py-2 text-base"),children:e.isPlaceholder?null:(0,i.Kv)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,s.jsx)(c.BF,{children:(null==(a=Z.getRowModel().rows)?void 0:a.length)?Z.getRowModel().rows.map(e=>(0,s.jsx)(c.Hj,{"data-state":e.getIsSelected()&&"selected",className:"cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors group",onClick:a=>{a.target instanceof Element&&(a.target.closest('[data-action="button"]')||a.target.closest('input[type="checkbox"]'))||z(e.original)},children:e.getVisibleCells().map(e=>(0,s.jsx)(c.nA,{className:"text-left group-hover:bg-slate-50 dark:group-hover:bg-slate-800/30 ".concat(I?"py-1":"py-2"," ").concat("actions"!==e.column.id?"pl-2":""),children:(0,i.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,s.jsx)(c.Hj,{children:(0,s.jsx)(c.nA,{colSpan:t.length,className:"h-24 text-center",children:0===J.length&&n.length>0?"No results found for your search criteria.":0===n.length?"No transactions available. Create your first transaction to get started!":"No transactions available."})})})]})}),I&&(0,s.jsx)("div",{className:"text-xs text-muted-foreground text-center py-2",children:"\uD83D\uDCA1 Swipe to see more details  Tap row to view full transaction"}),(0,s.jsx)(T,{transaction:v,isOpen:w,onClose:()=>{k(!1),N(null)}}),(0,s.jsx)(O,{transaction:v,isOpen:C,onClose:()=>S(!1),onSuccess:()=>{console.log("Transaction updated successfully"),S(!1),N(null)},accounts:B,categories:V}),(0,s.jsx)(U,{transaction:v,isOpen:A,onClose:()=>D(!1),onSuccess:()=>{console.log("Transaction deleted successfully"),D(!1),N(null)}}),$>1&&(0,s.jsxs)("div",{className:"flex items-center justify-between space-x-2 py-0",children:[(0,s.jsxs)("div",{className:"text-muted-foreground flex-1 text-sm",children:[Z.getFilteredSelectedRowModel().rows.length," of"," ",Z.getFilteredRowModel().rows.length," row(s) selected."]}),(0,s.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,s.jsxs)("div",{className:"text-sm text-muted-foreground whitespace-nowrap",children:["Showing ",(h-1)*20+1," to"," ",Math.min(20*h,Z.getFilteredRowModel().rows.length)," ","of ",Z.getFilteredRowModel().rows.length," results"]}),(0,s.jsxs)("div",{className:"space-x-2",children:[(0,s.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>Y(Math.max(1,h-1)),disabled:1===h,className:"enabled:cursor-pointer",children:"Previous"}),(0,s.jsx)(r.$,{variant:"outline",className:"enabled:cursor-pointer",size:"sm",onClick:()=>Y(Math.min($,h+1)),disabled:h===$,children:"Next"})]})]})]}),$<=1&&(0,s.jsxs)("div",{className:"flex items-center justify-between space-x-2 py-4",children:[(0,s.jsxs)("div",{className:"text-muted-foreground flex-1 text-sm",children:[Z.getFilteredSelectedRowModel().rows.length," of"," ",Z.getFilteredRowModel().rows.length," row(s) selected."]}),(0,s.jsxs)("div",{className:"text-sm text-muted-foreground whitespace-nowrap",children:["Found ",Z.getFilteredRowModel().rows.length," results"]})]})]})}var el=t(26859);let ec=(0,S.createServerReference)("00b4d93529bfa0b1c154f382affd75d33fda5ca57c",S.callServer,void 0,S.findSourceMapURL,"getUserTransactions"),ei=[{id:"1",name:"Main Checking",type:"checking",balance:5e3,currency:"AUD",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"2",name:"Savings Account",type:"savings",balance:15e3,currency:"AUD",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"3",name:"Credit Card",type:"credit",balance:-2500,currency:"AUD",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"4",name:"Investment Portfolio",type:"investment",balance:5e4,currency:"AUD",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],eo=[{id:"1",name:"Food & Dining",icon:"\uD83C\uDF7D"},{id:"2",name:"Transportation",icon:"\uD83D\uDE97"},{id:"3",name:"Shopping",icon:"\uD83D\uDECD"},{id:"4",name:"Entertainment",icon:"\uD83C\uDFAC"},{id:"5",name:"Healthcare",icon:"\uD83C\uDFE5"},{id:"6",name:"Utilities",icon:"\uD83D\uDCA1"},{id:"7",name:"Housing",icon:"\uD83C\uDFE0"},{id:"8",name:"Income",icon:"\uD83D\uDCB0"},{id:"9",name:"Transfer",icon:""}],ed=function(){let[e,a]=(0,m.useState)([]),[c,i]=(0,m.useState)(!0),[o,d]=(0,m.useState)(!1),[u,h]=(0,m.useState)(!1),[x,g]=(0,m.useState)(!1),[p,j]=(0,m.useState)(!1),[f,b]=(0,m.useState)(null),{sortStates:y,toggleSorting:v}=(0,el.K)(),N=(0,es.k)(y,v);return((0,m.useEffect)(()=>{(async()=>{try{i(!0);let e=await ec();a(e||[])}catch(e){console.error("Error loading transactions:",e),(0,D.oR)({title:"Error",description:"Failed to load transactions",variant:"destructive"}),a([])}finally{i(!1)}})()},[]),(0,m.useEffect)(()=>{(async()=>{let{setGlobalActionHandlers:e}=await Promise.resolve().then(t.bind(t,31867));e({onView:e=>{b(e),j(!0)},onEdit:e=>{b(e),h(!0)},onDelete:e=>{b(e),g(!0)}})})()},[]),c)?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(et,{}),(0,s.jsx)(n.m,{})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-end justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"View, categorize, and analyze your financial transactions to understand your spending patterns."})]}),(0,s.jsxs)(r.$,{className:"button-blue-bg hover:cursor-pointer",onClick:()=>d(!0),children:[(0,s.jsx)(l.A,{className:"mr-1 h-4 w-4"}),"Add Transaction"]})]}),(0,s.jsx)(m.Suspense,{fallback:(0,s.jsx)(et,{}),children:0!==e.length||c?(0,s.jsx)(er,{columns:N,data:e,isLoading:c,sortStates:y}):(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("div",{className:"mx-auto max-w-md",children:(0,s.jsx)("div",{className:"rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-600 p-8",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500 mb-4",children:(0,s.jsx)("svg",{className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No transactions yet"}),(0,s.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Get started by creating your first transaction to track your income and expenses."}),(0,s.jsxs)(r.$,{onClick:()=>d(!0),className:"button-blue-bg hover:cursor-pointer",children:[(0,s.jsx)(l.A,{className:"mr-2 h-4 w-4"}),"Create First Transaction"]})]})})})})}),(0,s.jsx)(n.m,{}),(0,s.jsx)(E,{isOpen:o,onClose:()=>d(!1),onSuccess:()=>{(async()=>{try{let e=await ec();a(e||[])}catch(e){console.error("Error reloading transactions:",e),a([])}})()},accounts:ei,categories:eo}),(0,s.jsx)(O,{transaction:f,isOpen:u,onClose:()=>h(!1),onSuccess:()=>{(async()=>{try{let e=await ec();a(e||[])}catch(e){console.error("Error reloading transactions:",e),a([])}})()},accounts:ei,categories:eo}),(0,s.jsx)(U,{transaction:f,isOpen:x,onClose:()=>g(!1),onSuccess:()=>{(async()=>{try{let e=await ec();a(e||[])}catch(e){console.error("Error reloading transactions:",e),a([])}})()}}),(0,s.jsx)(T,{transaction:f,isOpen:p,onClose:()=>j(!1)})]})}},59496:(e,a,t)=>{"use strict";t.d(a,{W7:()=>d,oU:()=>u});var s=t(13985),n=t(19901),r=t(58810),l=t(59979),c=t(92685),i=t(6471),o=t(52372);s.A,n.A,r.A,l.A,c.A,i.A,o.A,o.A,o.A,o.A;let d=[{href:"/",label:"Dashboard",icon:"dashboard",title:"Dashboard"},{href:"/transactions",label:"Transactions",icon:"transactions",title:"Transactions"},{href:"/bills",label:"Bills",icon:"bills",title:"Bills"},{href:"/budgeting",label:"Budgeting",icon:"budgets",title:"Budgeting"},{href:"/goals",label:"Goals",icon:"goals",title:"Goals"},{href:"/assets",label:"Assets",icon:"assets",title:"Assets"},{href:"/liabilities",label:"Liabilities",icon:"liabilities",title:"Liabilities"}],m={income:[{name:"Salary",icon:"DollarSign"},{name:"Freelance",icon:"Briefcase"},{name:"Investment Returns",icon:"TrendingUp"},{name:"Business Income",icon:"Building2"},{name:"Rental Income",icon:"Home"},{name:"Interest",icon:"PiggyBank"},{name:"Dividends",icon:"Coins"},{name:"Capital Gains",icon:"BarChart3"},{name:"Gifts",icon:"Gift"},{name:"Refunds",icon:"ArrowLeft"},{name:"Other Income",icon:"Plus"}],expenses:[{name:"Food & Dining",icon:"Utensils"},{name:"Transportation",icon:"Car"},{name:"Housing",icon:"Home"},{name:"Utilities",icon:"Zap"},{name:"Healthcare",icon:"Heart"},{name:"Entertainment",icon:"Gamepad2"},{name:"Shopping",icon:"ShoppingBag"},{name:"Education",icon:"GraduationCap"},{name:"Travel",icon:"Plane"},{name:"Insurance",icon:"Shield"},{name:"Taxes",icon:"FileText"},{name:"Subscriptions",icon:"CreditCard"},{name:"Personal Care",icon:"Scissors"},{name:"Pets",icon:"Heart"},{name:"Gifts",icon:"Gift"},{name:"Charity",icon:"HeartHandshake"},{name:"Other Expenses",icon:"Minus"}],bills:[{name:"Rent/Mortgage",icon:"Home"},{name:"Electricity",icon:"Zap"},{name:"Water",icon:"Droplets"},{name:"Gas",icon:"Zap"},{name:"Internet",icon:"Wifi"},{name:"Phone",icon:"Smartphone"},{name:"Cable TV",icon:"Tv"},{name:"Insurance",icon:"Shield"},{name:"Credit Card",icon:"CreditCard"},{name:"Loan Payment",icon:"Banknote"},{name:"Property Tax",icon:"Building2"},{name:"HOA Fees",icon:"Building2"},{name:"Garbage",icon:"Trash2"},{name:"Other Bills",icon:"FileText"}],assets:[{name:"Cash",icon:"DollarSign"},{name:"Checking Account",icon:"CreditCard"},{name:"Savings Account",icon:"PiggyBank"},{name:"Investment Account",icon:"TrendingUp"},{name:"Retirement Account",icon:"Target"},{name:"Real Estate",icon:"Home"},{name:"Vehicle",icon:"Car"},{name:"Jewelry",icon:"Gem"},{name:"Collectibles",icon:"Star"},{name:"Business",icon:"Building2"},{name:"Cryptocurrency",icon:"Coins"},{name:"Precious Metals",icon:"Gem"},{name:"Art",icon:"Palette"},{name:"Other Assets",icon:"Plus"}],liabilities:[{name:"Credit Card Debt",icon:"CreditCard"},{name:"Student Loan",icon:"GraduationCap"},{name:"Car Loan",icon:"Car"},{name:"Mortgage",icon:"Home"},{name:"Personal Loan",icon:"Banknote"},{name:"Business Loan",icon:"Building2"},{name:"Medical Debt",icon:"Heart"},{name:"Tax Debt",icon:"FileText"},{name:"Other Debt",icon:"Minus"}],goals:[{name:"Emergency Fund",icon:"Shield"},{name:"Retirement",icon:"Target"},{name:"Home Purchase",icon:"Home"},{name:"Vehicle Purchase",icon:"Car"},{name:"Education",icon:"GraduationCap"},{name:"Travel",icon:"Plane"},{name:"Wedding",icon:"Heart"},{name:"Business Startup",icon:"Building2"},{name:"Investment Portfolio",icon:"TrendingUp"},{name:"Debt Payoff",icon:"CreditCard"},{name:"Other Goals",icon:"Flag"}],budgets:[{name:"Housing",icon:"Home"},{name:"Transportation",icon:"Car"},{name:"Food",icon:"Utensils"},{name:"Utilities",icon:"Zap"},{name:"Healthcare",icon:"Heart"},{name:"Entertainment",icon:"Gamepad2"},{name:"Shopping",icon:"ShoppingBag"},{name:"Education",icon:"GraduationCap"},{name:"Insurance",icon:"Shield"},{name:"Savings",icon:"PiggyBank"},{name:"Debt Payment",icon:"CreditCard"},{name:"Other",icon:"Plus"}]},u=e=>m[e]||[]},59979:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(71861).A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},63985:(e,a,t)=>{"use strict";t.d(a,{E:()=>r});var s=t(90013),n=t(59367);function r(e){let{className:a,...t}=e;return(0,s.jsx)("div",{"data-slot":"skeleton",className:(0,n.cn)("bg-accent animate-pulse rounded-md",a),...t})}},84369:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(71861).A)("piggy-bank",[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]])},92685:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(71861).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},93508:(e,a,t)=>{"use strict";t.d(a,{A0:()=>l,BF:()=>c,Hj:()=>i,XI:()=>r,nA:()=>d,nd:()=>o});var s=t(90013);t(54281);var n=t(59367);function r(e){let{className:a,...t}=e;return(0,s.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,s.jsx)("table",{"data-slot":"table",className:(0,n.cn)("w-full caption-bottom text-sm",a),...t})})}function l(e){let{className:a,...t}=e;return(0,s.jsx)("thead",{"data-slot":"table-header",className:(0,n.cn)("[&_tr]:border-b",a),...t})}function c(e){let{className:a,...t}=e;return(0,s.jsx)("tbody",{"data-slot":"table-body",className:(0,n.cn)("[&_tr:last-child]:border-0",a),...t})}function i(e){let{className:a,...t}=e;return(0,s.jsx)("tr",{"data-slot":"table-row",className:(0,n.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),...t})}function o(e){let{className:a,...t}=e;return(0,s.jsx)("th",{"data-slot":"table-head",className:(0,n.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...t})}function d(e){let{className:a,...t}=e;return(0,s.jsx)("td",{"data-slot":"table-cell",className:(0,n.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...t})}}},e=>{e.O(0,[6251,6960,4463,7038,8301,9256,1278,5858,882,9170,1,6540,7358],()=>e(e.s=14031)),_N_E=e.O()}]);